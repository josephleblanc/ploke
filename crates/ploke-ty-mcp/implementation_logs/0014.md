# 0014 – Manager polish, sync is_running, and PLAN alignment

Decisions
- Make McpManager::is_running synchronous since it only queries DashMap; simplifies callers and avoids unnecessary awaits.
- Keep spawn/health-check/backoff logic as-is; it aligns with PLAN’s restart-on-exit and observability goals.
- Defer moving example helper files (src/context7_client.rs, src/git_client.rs) to examples/ for a later pass to minimize churn.

Changes Summary
- manager.rs: is_running made synchronous; updated ensure_started and start_autostart call sites.
- No public API behavior change; minor ergonomics and clarity improvement.

Next Steps
- Add unit tests for restart_on_exit retry path using a controllable spawner or thin abstraction.
- Consider moving example helper code into examples/ and adding cargo example targets.
- Add a simple facade test that exercises manager_from_default_config_autostart() behind feature/env.

Suggested PLAN.md Edits
- None required. Current crate state satisfies M0/M1 items and includes timeouts, cancellation, restart-on-exit, and tracing hooks.

Rationale
- Removing unnecessary async reduces cognitive and runtime overhead without functionality loss.
- Focus remains on stability and testability before expanding typed client surface area.
