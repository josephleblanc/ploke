  2025-09-02T10:08:32.040370Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: cf25683e-65b1-414c-8433-e3095e13dd51, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-02T10:08:32.040435Z  INFO ploke_tui::event_bus: close, time.busy: 67.2µs, time.idle: 2.97µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: cf25683e-65b1-414c-8433-e3095e13dd51, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-02T10:08:32.040454Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): cf25683e-65b1-414c-8433-e3095e13dd51,
                parent_id: 660081fd-c70e-4098-8983-44f7488f628d
                message_id: cf25683e-65b1-414c-8433-e3095e13dd51,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(2)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: cf25683e-65b1-414c-8433-e3095e13dd51, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-02T10:08:32.040461Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: cf25683e-65b1-414c-8433-e3095e13dd51, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-02T10:08:32.040467Z  INFO ploke_tui::event_bus: close, time.busy: 5.11µs, time.idle: 1.38µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: cf25683e-65b1-414c-8433-e3095e13dd51, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-02T10:08:32.040475Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 126µs, time.idle: 3.89µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(2)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: cf25683e-65b1-414c-8433-e3095e13dd51, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-02T10:08:32.040482Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 157µs, time.idle: 13.3µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-02T10:08:32.040495Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-02T10:08:32.042697Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-02T10:08:32.049458Z  INFO ploke_tui::llm: Received LLM request for parent_id: cf25683e-65b1-414c-8433-e3095e13dd51
new_msg_id: cf25683e-65b1-414c-8433-e3095e13dd51
    at crates/ploke-tui/src/llm/mod.rs:304 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-02T10:08:32.052710Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-02T10:08:32.053164Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-02T10:08:32.053468Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-02T10:08:32.053484Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 13.0ms, time.idle: 2.69µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-02T10:08:32.053987Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.215572Z DEBUG ploke_embed::local: shapes: outputs=[1, 21, 384], weights=[1, 21, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.216267Z DEBUG ploke_embed::local: shapes: outputs=[1, 21, 384], weights=[1, 21, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.216296Z DEBUG ploke_embed::local: close, time.busy: 163ms, time.idle: 2.78µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.403883Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(2)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.403934Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(2)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.403954Z  INFO ploke_rag::core: close, time.busy: 350ms, time.idle: 6.42µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(2)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.404017Z  INFO ploke_rag::core: close, time.busy: 30.7µs, time.idle: 350ms
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(2)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.404107Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(2)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.456066Z  INFO ploke_rag::core: close, time.busy: 51.3µs, time.idle: 34.4µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(2)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.456261Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(2)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.558034Z  INFO ploke_rag::core: close, time.busy: 52.2µs, time.idle: 34.9µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(2)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.558237Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(2)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.558823Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.722727Z DEBUG ploke_embed::local: shapes: outputs=[1, 21, 384], weights=[1, 21, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.723423Z DEBUG ploke_embed::local: shapes: outputs=[1, 21, 384], weights=[1, 21, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.723452Z DEBUG ploke_embed::local: close, time.busy: 165ms, time.idle: 3.42µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.909650Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(2)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.909695Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(2)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.909715Z  INFO ploke_rag::core: close, time.busy: 351ms, time.idle: 6.89µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(2)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.909736Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(2)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.909746Z  INFO ploke_rag::core: close, time.busy: 352ms, time.idle: 504ms
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(2)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.944098Z  INFO ploke_rag::context: close, time.busy: 29.2ms, time.idle: 5.09ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(2)
    in ploke_rag::context::assemble_context with query_len: 71, hits: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.944153Z  INFO ploke_rag::core: close, time.busy: 732ms, time.idle: 159ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(2)
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.944175Z  INFO ploke_tui::rag::context: constructing context (RAG) with 15 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.944197Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.944225Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.944248Z  INFO ploke_tui::event_bus: close, time.busy: 23.7µs, time.idle: 3.76µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.944267Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 891ms, time.idle: 4.29µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-02T10:08:32.944300Z  INFO ploke_tui::llm: Received context for parent_id: cf25683e-65b1-414c-8433-e3095e13dd51
    at crates/ploke-tui/src/llm/mod.rs:315 on ThreadId(2)

  2025-09-02T10:08:32.944324Z  INFO ploke_tui::llm: pending_requests found match for req_parent: cf25683e-65b1-414c-8433-e3095e13dd51
    at crates/ploke-tui/src/llm/mod.rs:338 on ThreadId(2)

  2025-09-02T10:08:32.944332Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: cf25683e-65b1-414c-8433-e3095e13dd51
    at crates/ploke-tui/src/llm/mod.rs:343 on ThreadId(2)

  2025-09-02T10:08:32.944354Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:361 on ThreadId(2)

  2025-09-02T10:08:32.944423Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-02T10:08:32.944436Z  INFO ploke_tui::event_bus: close, time.busy: 12.2µs, time.idle: 2.70µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-02T10:08:32.944448Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 45.1µs, time.idle: 2.61µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-02T10:08:32.944484Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:654 on ThreadId(2)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-02T10:08:32.944525Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: Some(true), require_tool_support: false
    at crates/ploke-tui/src/llm/mod.rs:730 on ThreadId(2)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-02T10:08:32.944594Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: true
	tool_names: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/mod.rs:772 on ThreadId(2)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-02T10:08:32.944660Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:45 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-02T10:08:32.944694Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: true, messages: 18
    at crates/ploke-tui/src/llm/session.rs:338 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-02T10:08:32.944711Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: true, tools: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/session.rs:85 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-02T10:08:32.944984Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-02T10:08:32.945326Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-02T10:08:32.992730Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 47.6ms, time.idle: 136µs
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(31)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-02T10:08:32.992906Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(2)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-02T10:08:33.011647Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(2)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-02T10:08:34.674495Z DEBUG ploke_tui::llm::session: raw body: 
         

         

         
{"id":"gen-1756807713-9RyTLiFstkjp2xpIiZ7E","provider":"Nebius","model":"moonshotai/kimi-k2","object":"chat.completion","created":1756807713,"choices":[{"logprobs":null,"finish_reason":"tool_calls","native_finish_reason":"tool_calls","index":0,"message":{"role":"assistant","content":"I don't see simplestruct in the codebase. Let me search for it and find the relevant code snippets for you.","refusal":null,"reasoning":null,"tool_calls":[{"index":0,"id":"functions.request_code_context:0","function":{"name":"request_code_context","arguments":"{\"search_term\": \"SimpleStruct\"}"},"type":"function"}]}}],"usage":{"prompt_tokens":1478,"completion_tokens":43,"total_tokens":1521}}
    at crates/ploke-tui/src/llm/session.rs:134 on ThreadId(2)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-02T10:08:34.674676Z  INFO ploke_tui::llm::session: close, time.busy: 1.73s, time.idle: 4.28µs
    at crates/ploke-tui/src/llm/session.rs:43 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-02T10:08:34.674783Z DEBUG hyper_util::client::legacy::pool: pooling idle connection for ("https", openrouter.ai)
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/pool.rs:396 on ThreadId(2)

  2025-09-02T10:08:34.674915Z  INFO ploke_tui::llm: close, time.busy: 2.61ms, time.idle: 1.73s
    at crates/ploke-tui/src/llm/mod.rs:641 on ThreadId(2)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-02T10:08:34.674958Z  INFO ploke_tui::llm: close, time.busy: 2.72ms, time.idle: 1.73s
    at crates/ploke-tui/src/llm/mod.rs:503 on ThreadId(2)
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-02T10:08:34.675051Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 24163e26-e67e-43dc-b8c1-096bebbffdec, content: "LLM request failed: Failed to deserialize response data: UUID parsing failed: invalid character: expected an optional prefix of `urn:uuid:` followed by [0-9a-fA-F-], found `g` at 1 at line 7 column 43 — body was: \n         \n\n         \n\n         \n{\"id\":\"gen-1756807713-9RyTLiFstkjp2xpIiZ7E\",\"provider\":\"Nebius\",\"model\":\"moonshotai/kimi-k2\",\"object\":\"chat.completion\",\"created\":1756807713,\"choices\":[{\"logprobs\":null,\"finish_reason\":\"tool_calls\",\"native_finish_reason\":\"tool_calls\",\"index\":0,\"message\":{\"role\":\"assistant\",\"content\":\"I don't see simplestruct in the codebase. Let me search for it and find the relevant code snippets for you.\",\"refusal\":null,\"reasoning\":null,\"tool_calls\":[{\"index\":0,\"id\":\"functions.request_code_context:0\",\"function\":{\"name\":\"request_code_context\",\"arguments\":\"{\\\"search_term\\\": \\\"SimpleStruct\\\"}\"},\"type\":\"function\"}]}}],\"usage\":{\"prompt_tokens\":1478,\"completion_tokens\":43,\"total_tokens\":1521}}", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-02T10:08:34.675071Z  INFO ploke_tui::event_bus: close, time.busy: 20.0µs, time.idle: 1.74µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 24163e26-e67e-43dc-b8c1-096bebbffdec, content: "LLM request failed: Failed to deserialize response data: UUID parsing failed: invalid character: expected an optional prefix of `urn:uuid:` followed by [0-9a-fA-F-], found `g` at 1 at line 7 column 43 — body was: \n         \n\n         \n\n         \n{\"id\":\"gen-1756807713-9RyTLiFstkjp2xpIiZ7E\",\"provider\":\"Nebius\",\"model\":\"moonshotai/kimi-k2\",\"object\":\"chat.completion\",\"created\":1756807713,\"choices\":[{\"logprobs\":null,\"finish_reason\":\"tool_calls\",\"native_finish_reason\":\"tool_calls\",\"index\":0,\"message\":{\"role\":\"assistant\",\"content\":\"I don't see simplestruct in the codebase. Let me search for it and find the relevant code snippets for you.\",\"refusal\":null,\"reasoning\":null,\"tool_calls\":[{\"index\":0,\"id\":\"functions.request_code_context:0\",\"function\":{\"name\":\"request_code_context\",\"arguments\":\"{\\\"search_term\\\": \\\"SimpleStruct\\\"}\"},\"type\":\"function\"}]}}],\"usage\":{\"prompt_tokens\":1478,\"completion_tokens\":43,\"total_tokens\":1521}}", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-02T10:08:34.675082Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 56.0µs, time.idle: 3.43µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(2)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 24163e26-e67e-43dc-b8c1-096bebbffdec, content: "LLM request failed: Failed to deserialize response data: UUID parsing failed: invalid character: expected an optional prefix of `urn:uuid:` followed by [0-9a-fA-F-], found `g` at 1 at line 7 column 43 — body was: \n         \n\n         \n\n         \n{\"id\":\"gen-1756807713-9RyTLiFstkjp2xpIiZ7E\",\"provider\":\"Nebius\",\"model\":\"moonshotai/kimi-k2\",\"object\":\"chat.completion\",\"created\":1756807713,\"choices\":[{\"logprobs\":null,\"finish_reason\":\"tool_calls\",\"native_finish_reason\":\"tool_calls\",\"index\":0,\"message\":{\"role\":\"assistant\",\"content\":\"I don't see simplestruct in the codebase. Let me search for it and find the relevant code snippets for you.\",\"refusal\":null,\"reasoning\":null,\"tool_calls\":[{\"index\":0,\"id\":\"functions.request_code_context:0\",\"function\":{\"name\":\"request_code_context\",\"arguments\":\"{\\\"search_term\\\": \\\"SimpleStruct\\\"}\"},\"type\":\"function\"}]}}],\"usage\":{\"prompt_tokens\":1478,\"completion_tokens\":43,\"total_tokens\":1521}}", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-02T10:08:34.675090Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 84.7µs, time.idle: 2.41µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-02T10:08:34.675111Z  INFO ploke_tui::app_state::handlers::chat: Updating message fcc555c6-4e84-4b2e-b432-60eb6c6cce90 status=Some(Completed) content_preview=Request failed: Failed to deserialize response data: UUID parsing failed: invalid character: expecte...
    at crates/ploke-tui/src/app_state/handlers/chat.rs:24 on ThreadId(2)
    in ploke_tui::app_state::handlers::chat::update_message with id: fcc555c6-4e84-4b2e-b432-60eb6c6cce90, msg_id: fcc555c6-4e84-4b2e-b432-60eb6c6cce90, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-02T10:08:34.675121Z  INFO ploke_tui::app_state::handlers::chat: Message updated successfully; dispatching MessageUpdatedEvent, msg_id: fcc555c6-4e84-4b2e-b432-60eb6c6cce90, kind: Assistant, old_status: Generating, new_status: Completed
    at crates/ploke-tui/src/app_state/handlers/chat.rs:42 on ThreadId(2)
    in ploke_tui::app_state::handlers::chat::update_message with id: fcc555c6-4e84-4b2e-b432-60eb6c6cce90, msg_id: fcc555c6-4e84-4b2e-b432-60eb6c6cce90, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-02T10:08:34.675130Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::update_message with id: fcc555c6-4e84-4b2e-b432-60eb6c6cce90, msg_id: fcc555c6-4e84-4b2e-b432-60eb6c6cce90, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-02T10:08:34.675138Z  INFO ploke_tui::event_bus: close, time.busy: 7.07µs, time.idle: 1.60µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::update_message with id: fcc555c6-4e84-4b2e-b432-60eb6c6cce90, msg_id: fcc555c6-4e84-4b2e-b432-60eb6c6cce90, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-02T10:08:34.675148Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 39.9µs, time.idle: 3.04µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:17 on ThreadId(2)
    in ploke_tui::app_state::handlers::chat::update_message with id: fcc555c6-4e84-4b2e-b432-60eb6c6cce90, msg_id: fcc555c6-4e84-4b2e-b432-60eb6c6cce90, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-02T10:08:34.675156Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 58.0µs, time.idle: 1.58µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-02T10:08:34.675177Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: c64dcba7-f1eb-4f8d-a38a-94339a127848, content: "Request summary: error (Failed to deserialize response data: UUID parsing failed: invalid character: expected an optional prefix of `urn:uuid:` followed by [0-9a-fA-F-], found `g` at 1 at line 7 column 43 — body was: \n         \n\n         \n\n         \n{\"id\":\"gen-1756807713-9RyTLiFstkjp2xpIiZ7E\",\"provider\":\"Nebius\",\"model\":\"moonshotai/kimi-k2\",\"object\":\"chat.completion\",\"created\":1756807713,\"choices\":[{\"logprobs\":null,\"finish_reason\":\"tool_calls\",\"native_finish_reason\":\"tool_calls\",\"index\":0,\"message\":{\"role\":\"assistant\",\"content\":\"I don't see simplestruct in the codebase. Let me search for it and find the relevant code snippets for you.\",\"refusal\":null,\"reasoning\":null,\"tool_calls\":[{\"index\":0,\"id\":\"functions.request_code_context:0\",\"function\":{\"name\":\"request_code_context\",\"arguments\":\"{\\\"search_term\\\": \\\"SimpleStruct\\\"}\"},\"type\":\"function\"}]}}],\"usage\":{\"prompt_tokens\":1478,\"completion_tokens\":43,\"total_tokens\":1521}})", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-02T10:08:34.675184Z  INFO ploke_tui::event_bus: close, time.busy: 6.68µs, time.idle: 1.57µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: c64dcba7-f1eb-4f8d-a38a-94339a127848, content: "Request summary: error (Failed to deserialize response data: UUID parsing failed: invalid character: expected an optional prefix of `urn:uuid:` followed by [0-9a-fA-F-], found `g` at 1 at line 7 column 43 — body was: \n         \n\n         \n\n         \n{\"id\":\"gen-1756807713-9RyTLiFstkjp2xpIiZ7E\",\"provider\":\"Nebius\",\"model\":\"moonshotai/kimi-k2\",\"object\":\"chat.completion\",\"created\":1756807713,\"choices\":[{\"logprobs\":null,\"finish_reason\":\"tool_calls\",\"native_finish_reason\":\"tool_calls\",\"index\":0,\"message\":{\"role\":\"assistant\",\"content\":\"I don't see simplestruct in the codebase. Let me search for it and find the relevant code snippets for you.\",\"refusal\":null,\"reasoning\":null,\"tool_calls\":[{\"index\":0,\"id\":\"functions.request_code_context:0\",\"function\":{\"name\":\"request_code_context\",\"arguments\":\"{\\\"search_term\\\": \\\"SimpleStruct\\\"}\"},\"type\":\"function\"}]}}],\"usage\":{\"prompt_tokens\":1478,\"completion_tokens\":43,\"total_tokens\":1521}})", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-02T10:08:34.675194Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 20.9µs, time.idle: 2.26µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(2)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: c64dcba7-f1eb-4f8d-a38a-94339a127848, content: "Request summary: error (Failed to deserialize response data: UUID parsing failed: invalid character: expected an optional prefix of `urn:uuid:` followed by [0-9a-fA-F-], found `g` at 1 at line 7 column 43 — body was: \n         \n\n         \n\n         \n{\"id\":\"gen-1756807713-9RyTLiFstkjp2xpIiZ7E\",\"provider\":\"Nebius\",\"model\":\"moonshotai/kimi-k2\",\"object\":\"chat.completion\",\"created\":1756807713,\"choices\":[{\"logprobs\":null,\"finish_reason\":\"tool_calls\",\"native_finish_reason\":\"tool_calls\",\"index\":0,\"message\":{\"role\":\"assistant\",\"content\":\"I don't see simplestruct in the codebase. Let me search for it and find the relevant code snippets for you.\",\"refusal\":null,\"reasoning\":null,\"tool_calls\":[{\"index\":0,\"id\":\"functions.request_code_context:0\",\"function\":{\"name\":\"request_code_context\",\"arguments\":\"{\\\"search_term\\\": \\\"SimpleStruct\\\"}\"},\"type\":\"function\"}]}}],\"usage\":{\"prompt_tokens\":1478,\"completion_tokens\":43,\"total_tokens\":1521}})", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-02T10:08:34.675201Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 36.9µs, time.idle: 1.48µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-02T10:08:34.676705Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(2)

  2025-09-02T10:08:34.678453Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(2)

  2025-09-02T10:08:34.680119Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(2)

  2025-09-02T10:08:50.042215Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send

  2025-09-02T10:08:50.042303Z  INFO ploke_tui::event_bus: close, time.busy: 95.9µs, time.idle: 13.9µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send

