  2025-09-03T16:27:17.906985Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(3)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 6b1e34c2-3380-4092-8c64-71765cdec3a8, content: "Test message", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.906985Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(13)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 045194dd-d81c-4bec-a7c2-de298a96f9ae, content: "Check the size of Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907141Z  INFO ploke_tui::event_bus: close, time.busy: 158µs, time.idle: 2.86µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(3)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 6b1e34c2-3380-4092-8c64-71765cdec3a8, content: "Test message", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907143Z  INFO ploke_tui::event_bus: close, time.busy: 156µs, time.idle: 3.62µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(13)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 045194dd-d81c-4bec-a7c2-de298a96f9ae, content: "Check the size of Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907172Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 6b1e34c2-3380-4092-8c64-71765cdec3a8,
                parent_id: 6f31b1d3-c429-467a-89fe-e34c650eb76e
                message_id: 6b1e34c2-3380-4092-8c64-71765cdec3a8,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(3)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 6b1e34c2-3380-4092-8c64-71765cdec3a8, content: "Test message", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907173Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 045194dd-d81c-4bec-a7c2-de298a96f9ae,
                parent_id: c371e73e-ac55-4c43-a2da-47b81651215d
                message_id: 045194dd-d81c-4bec-a7c2-de298a96f9ae,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(13)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 045194dd-d81c-4bec-a7c2-de298a96f9ae, content: "Check the size of Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907180Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(3)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 6b1e34c2-3380-4092-8c64-71765cdec3a8, content: "Test message", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907184Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(13)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 045194dd-d81c-4bec-a7c2-de298a96f9ae, content: "Check the size of Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907186Z  INFO ploke_tui::event_bus: close, time.busy: 5.54µs, time.idle: 1.50µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(3)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 6b1e34c2-3380-4092-8c64-71765cdec3a8, content: "Test message", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907195Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 245µs, time.idle: 5.38µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(3)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 6b1e34c2-3380-4092-8c64-71765cdec3a8, content: "Test message", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907194Z  INFO ploke_tui::event_bus: close, time.busy: 8.52µs, time.idle: 2.52µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(13)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 045194dd-d81c-4bec-a7c2-de298a96f9ae, content: "Check the size of Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907204Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 285µs, time.idle: 16.7µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907208Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 257µs, time.idle: 5.25µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(13)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 045194dd-d81c-4bec-a7c2-de298a96f9ae, content: "Check the size of Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907222Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 303µs, time.idle: 17.0µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907601Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.907601Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.907646Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(4)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: c62ae584-8198-4d4c-b321-bdcd2236e052, content: "Please get the metadata for the file 'Cargo.toml' and tell me about it.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907679Z  INFO ploke_tui::event_bus: close, time.busy: 33.3µs, time.idle: 3.11µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(4)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: c62ae584-8198-4d4c-b321-bdcd2236e052, content: "Please get the metadata for the file 'Cargo.toml' and tell me about it.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907694Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): c62ae584-8198-4d4c-b321-bdcd2236e052,
                parent_id: 07f1eb10-c551-4249-8c3b-5685bbdfd434
                message_id: c62ae584-8198-4d4c-b321-bdcd2236e052,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(4)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: c62ae584-8198-4d4c-b321-bdcd2236e052, content: "Please get the metadata for the file 'Cargo.toml' and tell me about it.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907704Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(4)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: c62ae584-8198-4d4c-b321-bdcd2236e052, content: "Please get the metadata for the file 'Cargo.toml' and tell me about it.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907713Z  INFO ploke_tui::event_bus: close, time.busy: 8.59µs, time.idle: 2.15µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(4)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: c62ae584-8198-4d4c-b321-bdcd2236e052, content: "Please get the metadata for the file 'Cargo.toml' and tell me about it.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907725Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 90.3µs, time.idle: 3.73µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(4)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: c62ae584-8198-4d4c-b321-bdcd2236e052, content: "Please get the metadata for the file 'Cargo.toml' and tell me about it.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907735Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 112µs, time.idle: 5.69µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.907748Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.910309Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.910451Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.910452Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.921022Z  INFO ploke_tui::llm: Received LLM request for parent_id: c62ae584-8198-4d4c-b321-bdcd2236e052
new_msg_id: c62ae584-8198-4d4c-b321-bdcd2236e052
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.921022Z  INFO ploke_tui::llm: Received LLM request for parent_id: 6b1e34c2-3380-4092-8c64-71765cdec3a8
new_msg_id: 6b1e34c2-3380-4092-8c64-71765cdec3a8
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.922439Z  INFO ploke_tui::llm: Received LLM request for parent_id: 045194dd-d81c-4bec-a7c2-de298a96f9ae
new_msg_id: 045194dd-d81c-4bec-a7c2-de298a96f9ae
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.925818Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.925838Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.926542Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.926684Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.926845Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.927566Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.927725Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.927788Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 20.6ms, time.idle: 5.95µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.927911Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.927949Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 20.2ms, time.idle: 4.10µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.928342Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.928378Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 21.1ms, time.idle: 5.56µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.929138Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(3)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 12, top_k: 15
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:17.929139Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(4)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:17.929139Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(13)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:17.971732Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(5)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: d1b1ce66-295f-4527-b73e-401e5f37c4f6, content: "I'm working on a Rust project", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.971829Z  INFO ploke_tui::event_bus: close, time.busy: 107µs, time.idle: 4.09µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(5)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: d1b1ce66-295f-4527-b73e-401e5f37c4f6, content: "I'm working on a Rust project", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.971862Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): d1b1ce66-295f-4527-b73e-401e5f37c4f6,
                parent_id: 0f38d71d-c839-4772-a439-3df4b089483f
                message_id: d1b1ce66-295f-4527-b73e-401e5f37c4f6,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(5)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: d1b1ce66-295f-4527-b73e-401e5f37c4f6, content: "I'm working on a Rust project", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.971873Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(5)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: d1b1ce66-295f-4527-b73e-401e5f37c4f6, content: "I'm working on a Rust project", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.971883Z  INFO ploke_tui::event_bus: close, time.busy: 8.54µs, time.idle: 2.11µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(5)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: d1b1ce66-295f-4527-b73e-401e5f37c4f6, content: "I'm working on a Rust project", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.971896Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 209µs, time.idle: 6.91µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(5)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: d1b1ce66-295f-4527-b73e-401e5f37c4f6, content: "I'm working on a Rust project", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.971909Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 256µs, time.idle: 23.5µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.971934Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.975742Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.986289Z  INFO ploke_tui::llm: Received LLM request for parent_id: d1b1ce66-295f-4527-b73e-401e5f37c4f6
new_msg_id: d1b1ce66-295f-4527-b73e-401e5f37c4f6
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.986745Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: e92f1e28-4390-4c88-8118-f603666a6275, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.986796Z  INFO ploke_tui::event_bus: close, time.busy: 53.3µs, time.idle: 3.43µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: e92f1e28-4390-4c88-8118-f603666a6275, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.986821Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): e92f1e28-4390-4c88-8118-f603666a6275,
                parent_id: b409313a-8928-4ebb-9a76-9da78676b18b
                message_id: e92f1e28-4390-4c88-8118-f603666a6275,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(14)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: e92f1e28-4390-4c88-8118-f603666a6275, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.986831Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: e92f1e28-4390-4c88-8118-f603666a6275, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.986840Z  INFO ploke_tui::event_bus: close, time.busy: 8.18µs, time.idle: 2.02µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: e92f1e28-4390-4c88-8118-f603666a6275, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.986852Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 129µs, time.idle: 5.63µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(14)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: e92f1e28-4390-4c88-8118-f603666a6275, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.986864Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 162µs, time.idle: 12.6µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.986885Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.989720Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.990850Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.991772Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.991855Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 696bef47-2171-438d-a4df-1433f5cf20ac, content: "Please use the get_file_metadata tool to check if the file 'Cargo.toml' exists and show me its metadata including the tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.991889Z  INFO ploke_tui::event_bus: close, time.busy: 34.6µs, time.idle: 2.54µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 696bef47-2171-438d-a4df-1433f5cf20ac, content: "Please use the get_file_metadata tool to check if the file 'Cargo.toml' exists and show me its metadata including the tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.991910Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 696bef47-2171-438d-a4df-1433f5cf20ac,
                parent_id: 22bdbf9b-2e27-4d51-8263-9df393df1bf1
                message_id: 696bef47-2171-438d-a4df-1433f5cf20ac,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(2)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 696bef47-2171-438d-a4df-1433f5cf20ac, content: "Please use the get_file_metadata tool to check if the file 'Cargo.toml' exists and show me its metadata including the tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.991919Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 696bef47-2171-438d-a4df-1433f5cf20ac, content: "Please use the get_file_metadata tool to check if the file 'Cargo.toml' exists and show me its metadata including the tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.991928Z  INFO ploke_tui::event_bus: close, time.busy: 8.26µs, time.idle: 2.07µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 696bef47-2171-438d-a4df-1433f5cf20ac, content: "Please use the get_file_metadata tool to check if the file 'Cargo.toml' exists and show me its metadata including the tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.991940Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 98.5µs, time.idle: 4.83µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(2)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 696bef47-2171-438d-a4df-1433f5cf20ac, content: "Please use the get_file_metadata tool to check if the file 'Cargo.toml' exists and show me its metadata including the tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.991950Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 125µs, time.idle: 7.33µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:17.991966Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.994241Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.996373Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.996430Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 24.5ms, time.idle: 5.03µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:17.997281Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(5)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.000390Z  INFO ploke_tui::llm: Received LLM request for parent_id: e92f1e28-4390-4c88-8118-f603666a6275
new_msg_id: e92f1e28-4390-4c88-8118-f603666a6275
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.003810Z  INFO ploke_tui::llm: Received LLM request for parent_id: 696bef47-2171-438d-a4df-1433f5cf20ac
new_msg_id: 696bef47-2171-438d-a4df-1433f5cf20ac
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.004571Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.005416Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.007775Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.007824Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 20.9ms, time.idle: 6.12µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.008276Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.008578Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(14)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.009387Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.019589Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(8)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 9e00a3e3-ad32-40eb-b43e-036538b5ae71, content: "Please help me understand how to use tools in this system.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.019733Z  INFO ploke_tui::event_bus: close, time.busy: 148µs, time.idle: 3.65µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(8)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 9e00a3e3-ad32-40eb-b43e-036538b5ae71, content: "Please help me understand how to use tools in this system.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.019792Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 9e00a3e3-ad32-40eb-b43e-036538b5ae71,
                parent_id: aa9a5259-50ba-4826-87c5-f519285b396f
                message_id: 9e00a3e3-ad32-40eb-b43e-036538b5ae71,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(8)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 9e00a3e3-ad32-40eb-b43e-036538b5ae71, content: "Please help me understand how to use tools in this system.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.019825Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(8)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 9e00a3e3-ad32-40eb-b43e-036538b5ae71, content: "Please help me understand how to use tools in this system.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.019847Z  INFO ploke_tui::event_bus: close, time.busy: 20.6µs, time.idle: 3.33µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(8)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 9e00a3e3-ad32-40eb-b43e-036538b5ae71, content: "Please help me understand how to use tools in this system.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.019886Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 328µs, time.idle: 6.28µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(8)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 9e00a3e3-ad32-40eb-b43e-036538b5ae71, content: "Please help me understand how to use tools in this system.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.019911Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 379µs, time.idle: 15.5µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.019952Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.022817Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.022884Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 30.9ms, time.idle: 3.75µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.023409Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.023877Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.030641Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(9)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 58adb9a6-e3bb-4992-a11f-2403050d72f0, content: "Get metadata for Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.030695Z  INFO ploke_tui::event_bus: close, time.busy: 54.8µs, time.idle: 3.26µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(9)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 58adb9a6-e3bb-4992-a11f-2403050d72f0, content: "Get metadata for Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.030717Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 58adb9a6-e3bb-4992-a11f-2403050d72f0,
                parent_id: 445b4874-2292-454c-b215-484b5a26c4b7
                message_id: 58adb9a6-e3bb-4992-a11f-2403050d72f0,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(9)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 58adb9a6-e3bb-4992-a11f-2403050d72f0, content: "Get metadata for Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.030733Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(9)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 58adb9a6-e3bb-4992-a11f-2403050d72f0, content: "Get metadata for Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.030742Z  INFO ploke_tui::event_bus: close, time.busy: 8.78µs, time.idle: 2.17µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(9)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 58adb9a6-e3bb-4992-a11f-2403050d72f0, content: "Get metadata for Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.030757Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 141µs, time.idle: 5.21µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(9)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 58adb9a6-e3bb-4992-a11f-2403050d72f0, content: "Get metadata for Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.030778Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 182µs, time.idle: 10.7µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.030798Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.032317Z  INFO ploke_tui::llm: Received LLM request for parent_id: 9e00a3e3-ad32-40eb-b43e-036538b5ae71
new_msg_id: 9e00a3e3-ad32-40eb-b43e-036538b5ae71
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.034127Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.034392Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 1a0b843f-4683-40c8-91dc-06dc1887ffe2, content: "Hello, I need help with some files", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.034431Z  INFO ploke_tui::event_bus: close, time.busy: 38.8µs, time.idle: 3.36µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 1a0b843f-4683-40c8-91dc-06dc1887ffe2, content: "Hello, I need help with some files", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.034451Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 1a0b843f-4683-40c8-91dc-06dc1887ffe2,
                parent_id: 40942187-867a-45f1-8374-2a5b7353dd59
                message_id: 1a0b843f-4683-40c8-91dc-06dc1887ffe2,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(6)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 1a0b843f-4683-40c8-91dc-06dc1887ffe2, content: "Hello, I need help with some files", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.034463Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 1a0b843f-4683-40c8-91dc-06dc1887ffe2, content: "Hello, I need help with some files", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.034476Z  INFO ploke_tui::event_bus: close, time.busy: 12.7µs, time.idle: 2.10µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 1a0b843f-4683-40c8-91dc-06dc1887ffe2, content: "Hello, I need help with some files", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.034490Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 114µs, time.idle: 5.37µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(6)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 1a0b843f-4683-40c8-91dc-06dc1887ffe2, content: "Hello, I need help with some files", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.034501Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 143µs, time.idle: 7.30µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.034521Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.035985Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.036564Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.037470Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.045259Z  INFO ploke_tui::llm: Received LLM request for parent_id: 58adb9a6-e3bb-4992-a11f-2403050d72f0
new_msg_id: 58adb9a6-e3bb-4992-a11f-2403050d72f0
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.049769Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.050070Z  INFO ploke_tui::llm: Received LLM request for parent_id: 1a0b843f-4683-40c8-91dc-06dc1887ffe2
new_msg_id: 1a0b843f-4683-40c8-91dc-06dc1887ffe2
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.050584Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.051652Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(11)
    in ploke_tui::event_bus::send

  2025-09-03T16:27:18.051689Z  INFO ploke_tui::event_bus: close, time.busy: 37.3µs, time.idle: 10.0µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(11)
    in ploke_tui::event_bus::send

  2025-09-03T16:27:18.054824Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.055717Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.058005Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.058087Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 38.1ms, time.idle: 4.68µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.058806Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(8)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.062010Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 23324e6d-9dd4-4a40-8fe8-a0e3fa4a3e70, content: "Use the get_file_metadata tool to check the file 'Cargo.toml' in the current directory. I need to see the file size and tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.062048Z  INFO ploke_tui::event_bus: close, time.busy: 38.3µs, time.idle: 3.36µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 23324e6d-9dd4-4a40-8fe8-a0e3fa4a3e70, content: "Use the get_file_metadata tool to check the file 'Cargo.toml' in the current directory. I need to see the file size and tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.062068Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 23324e6d-9dd4-4a40-8fe8-a0e3fa4a3e70,
                parent_id: adfce3fa-af86-4e11-9e79-ff79febde5d6
                message_id: 23324e6d-9dd4-4a40-8fe8-a0e3fa4a3e70,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(12)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 23324e6d-9dd4-4a40-8fe8-a0e3fa4a3e70, content: "Use the get_file_metadata tool to check the file 'Cargo.toml' in the current directory. I need to see the file size and tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.062080Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 23324e6d-9dd4-4a40-8fe8-a0e3fa4a3e70, content: "Use the get_file_metadata tool to check the file 'Cargo.toml' in the current directory. I need to see the file size and tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.062090Z  INFO ploke_tui::event_bus: close, time.busy: 9.53µs, time.idle: 2.22µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 23324e6d-9dd4-4a40-8fe8-a0e3fa4a3e70, content: "Use the get_file_metadata tool to check the file 'Cargo.toml' in the current directory. I need to see the file size and tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.062104Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 110µs, time.idle: 4.76µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(12)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 23324e6d-9dd4-4a40-8fe8-a0e3fa4a3e70, content: "Use the get_file_metadata tool to check the file 'Cargo.toml' in the current directory. I need to see the file size and tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.062115Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 139µs, time.idle: 7.02µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.062133Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.064566Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.065265Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 501f9d0a-c17a-480c-9c44-7fb39ade1d71, content: "Please get the metadata for the file 'Cargo.toml' using the get_file_metadata tool.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.065298Z  INFO ploke_tui::event_bus: close, time.busy: 33.3µs, time.idle: 3.19µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 501f9d0a-c17a-480c-9c44-7fb39ade1d71, content: "Please get the metadata for the file 'Cargo.toml' using the get_file_metadata tool.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.065316Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 501f9d0a-c17a-480c-9c44-7fb39ade1d71,
                parent_id: eefd7abc-0a46-4669-8b25-cdeb870187da
                message_id: 501f9d0a-c17a-480c-9c44-7fb39ade1d71,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(10)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 501f9d0a-c17a-480c-9c44-7fb39ade1d71, content: "Please get the metadata for the file 'Cargo.toml' using the get_file_metadata tool.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.065326Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 501f9d0a-c17a-480c-9c44-7fb39ade1d71, content: "Please get the metadata for the file 'Cargo.toml' using the get_file_metadata tool.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.065320Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(11)

  2025-09-03T16:27:18.065336Z  INFO ploke_tui::event_bus: close, time.busy: 8.71µs, time.idle: 2.16µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 501f9d0a-c17a-480c-9c44-7fb39ade1d71, content: "Please get the metadata for the file 'Cargo.toml' using the get_file_metadata tool.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.065348Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 96.3µs, time.idle: 4.57µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(10)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 501f9d0a-c17a-480c-9c44-7fb39ade1d71, content: "Please get the metadata for the file 'Cargo.toml' using the get_file_metadata tool.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.065358Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 122µs, time.idle: 6.25µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.065374Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.065956Z  WARN ploke_tui::app::events: Unused system event in main app loop: ToolCallCompleted { request_id: 6ce002bc-ecaa-4553-99b5-bfc8279d8cf8, parent_id: 82492b77-7ba9-4ea4-8671-1e24516962d6, call_id: "{\"file_path\": \"/test/file.rs\"}", content: "get_file_metadata" }
    at crates/ploke-tui/src/app/events.rs:262 on ThreadId(11)

  2025-09-03T16:27:18.066071Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(11)

  2025-09-03T16:27:18.067263Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.067302Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 32.8ms, time.idle: 3.29µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.067743Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(6)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.068296Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.070282Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(7)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 4e7e45bd-b8de-4322-8973-3f97ef834393, content: "Get metadata for /nonexistent/file.txt", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.070342Z  INFO ploke_tui::event_bus: close, time.busy: 60.1µs, time.idle: 3.37µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(7)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 4e7e45bd-b8de-4322-8973-3f97ef834393, content: "Get metadata for /nonexistent/file.txt", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.070376Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 4e7e45bd-b8de-4322-8973-3f97ef834393,
                parent_id: 586da649-68d0-4cbc-83e2-cf0479abf263
                message_id: 4e7e45bd-b8de-4322-8973-3f97ef834393,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(7)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 4e7e45bd-b8de-4322-8973-3f97ef834393, content: "Get metadata for /nonexistent/file.txt", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.070408Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(7)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 4e7e45bd-b8de-4322-8973-3f97ef834393, content: "Get metadata for /nonexistent/file.txt", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.070431Z  INFO ploke_tui::event_bus: close, time.busy: 22.5µs, time.idle: 3.60µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(7)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 4e7e45bd-b8de-4322-8973-3f97ef834393, content: "Get metadata for /nonexistent/file.txt", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.070458Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 189µs, time.idle: 4.68µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(7)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 4e7e45bd-b8de-4322-8973-3f97ef834393, content: "Get metadata for /nonexistent/file.txt", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.070480Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 226µs, time.idle: 6.48µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:27:18.070510Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.072436Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.078522Z  INFO ploke_tui::llm: Received LLM request for parent_id: 501f9d0a-c17a-480c-9c44-7fb39ade1d71
new_msg_id: 501f9d0a-c17a-480c-9c44-7fb39ade1d71
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.080382Z  INFO ploke_tui::llm: Received LLM request for parent_id: 4e7e45bd-b8de-4322-8973-3f97ef834393
new_msg_id: 4e7e45bd-b8de-4322-8973-3f97ef834393
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.083573Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.084145Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.084537Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.084979Z  INFO ploke_tui::llm: Received LLM request for parent_id: 23324e6d-9dd4-4a40-8fe8-a0e3fa4a3e70
new_msg_id: 23324e6d-9dd4-4a40-8fe8-a0e3fa4a3e70
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.084999Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.085030Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.085068Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 54.3ms, time.idle: 3.64µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.085472Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(9)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.089806Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.090844Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.092241Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.092278Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 26.9ms, time.idle: 3.16µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.092845Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(10)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.092925Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.092988Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 30.9ms, time.idle: 3.51µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.093727Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(12)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.094896Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.094956Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 24.4ms, time.idle: 3.71µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:27:18.095336Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(7)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 38, top_k: 15
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.102467Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(11)
    in ploke_tui::event_bus::send

  2025-09-03T16:27:18.102492Z  INFO ploke_tui::event_bus: close, time.busy: 26.3µs, time.idle: 4.67µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(11)
    in ploke_tui::event_bus::send

  2025-09-03T16:27:18.322916Z DEBUG ploke_embed::local: shapes: outputs=[1, 4, 384], weights=[1, 4, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(3)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 12, top_k: 15
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.323289Z DEBUG ploke_embed::local: shapes: outputs=[1, 4, 384], weights=[1, 4, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(3)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 12, top_k: 15
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.323334Z DEBUG ploke_embed::local: close, time.busy: 395ms, time.idle: 5.30µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(3)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 12, top_k: 15
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.359092Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(13)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.359870Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(13)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.359933Z DEBUG ploke_embed::local: close, time.busy: 431ms, time.idle: 4.09µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(13)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.513652Z DEBUG ploke_embed::local: shapes: outputs=[1, 21, 384], weights=[1, 21, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(4)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.514843Z DEBUG ploke_embed::local: shapes: outputs=[1, 21, 384], weights=[1, 21, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(4)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.514890Z DEBUG ploke_embed::local: close, time.busy: 586ms, time.idle: 4.55µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(4)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.562326Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(5)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.562938Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(5)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.562974Z DEBUG ploke_embed::local: close, time.busy: 566ms, time.idle: 6.84µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(5)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.589066Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(6)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.589456Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(6)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.589489Z DEBUG ploke_embed::local: close, time.busy: 522ms, time.idle: 3.77µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(6)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.621840Z DEBUG ploke_embed::local: shapes: outputs=[1, 21, 384], weights=[1, 21, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(14)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.623015Z DEBUG ploke_embed::local: shapes: outputs=[1, 21, 384], weights=[1, 21, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(14)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.623052Z DEBUG ploke_embed::local: close, time.busy: 615ms, time.idle: 3.24µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(14)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.639079Z DEBUG ploke_embed::local: shapes: outputs=[1, 9, 384], weights=[1, 9, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(9)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.639630Z DEBUG ploke_embed::local: shapes: outputs=[1, 9, 384], weights=[1, 9, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(9)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.639664Z DEBUG ploke_embed::local: close, time.busy: 554ms, time.idle: 3.49µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(9)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.659091Z DEBUG ploke_embed::local: shapes: outputs=[1, 14, 384], weights=[1, 14, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(8)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.659884Z DEBUG ploke_embed::local: shapes: outputs=[1, 14, 384], weights=[1, 14, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(8)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.659920Z DEBUG ploke_embed::local: close, time.busy: 602ms, time.idle: 3.67µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(8)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.693557Z DEBUG ploke_embed::local: shapes: outputs=[1, 15, 384], weights=[1, 15, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(7)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 38, top_k: 15
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.694164Z DEBUG ploke_embed::local: shapes: outputs=[1, 15, 384], weights=[1, 15, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(7)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 38, top_k: 15
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.694212Z DEBUG ploke_embed::local: close, time.busy: 599ms, time.idle: 3.52µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(7)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 38, top_k: 15
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.771079Z DEBUG ploke_embed::local: shapes: outputs=[1, 24, 384], weights=[1, 24, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(10)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.771858Z DEBUG ploke_embed::local: shapes: outputs=[1, 24, 384], weights=[1, 24, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(10)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.771884Z DEBUG ploke_embed::local: close, time.busy: 680ms, time.idle: 2.96µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(10)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.807465Z DEBUG ploke_embed::local: shapes: outputs=[1, 33, 384], weights=[1, 33, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.809246Z DEBUG ploke_embed::local: shapes: outputs=[1, 33, 384], weights=[1, 33, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.809302Z DEBUG ploke_embed::local: close, time.busy: 786ms, time.idle: 3.46µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.876881Z DEBUG ploke_embed::local: shapes: outputs=[1, 36, 384], weights=[1, 36, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(12)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.879024Z DEBUG ploke_embed::local: shapes: outputs=[1, 36, 384], weights=[1, 36, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(12)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.879076Z DEBUG ploke_embed::local: close, time.busy: 786ms, time.idle: 3.68µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(12)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.881018Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(3)
    in ploke_rag::core::search with query_len: 12, top_k: 15
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.883042Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(3)
    in ploke_rag::core::search with query_len: 12, top_k: 15
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.883082Z  INFO ploke_rag::core: close, time.busy: 955ms, time.idle: 9.16µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(3)
    in ploke_rag::core::search with query_len: 12, top_k: 15
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.883170Z  INFO ploke_rag::core: close, time.busy: 62.7µs, time.idle: 955ms
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(3)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 12, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.883268Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(3)
    in ploke_rag::core::search_bm25 with query_len: 12, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.883337Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(3)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.883357Z  INFO ploke_tui::event_bus: close, time.busy: 20.3µs, time.idle: 3.73µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(3)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.883468Z  INFO ploke_rag::core: close, time.busy: 148µs, time.idle: 955ms
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(3)
    in ploke_rag::core::search_bm25 with query_len: 12, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.883482Z  INFO ploke_rag::core: close, time.busy: 955ms, time.idle: 283µs
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(3)
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.883496Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 956ms, time.idle: 8.45µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.897115Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(13)
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.897159Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(13)
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.897176Z  INFO ploke_rag::core: close, time.busy: 969ms, time.idle: 5.84µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(13)
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.897226Z  INFO ploke_rag::core: close, time.busy: 24.8µs, time.idle: 969ms
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(13)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.897309Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(13)
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.912622Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(5)
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.912672Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(5)
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.912692Z  INFO ploke_rag::core: close, time.busy: 916ms, time.idle: 6.53µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(5)
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.912741Z  INFO ploke_rag::core: close, time.busy: 41.0µs, time.idle: 916ms
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(5)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.912818Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(5)
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.948480Z  INFO ploke_rag::core: close, time.busy: 21.1µs, time.idle: 17.6µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(13)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.948549Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(13)
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.950646Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(4)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.950703Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(4)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.950726Z  INFO ploke_rag::core: close, time.busy: 1.02s, time.idle: 8.45µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(4)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.950784Z  INFO ploke_rag::core: close, time.busy: 24.2µs, time.idle: 1.02s
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(4)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.950874Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(4)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.950934Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(4)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.950951Z  INFO ploke_tui::event_bus: close, time.busy: 17.3µs, time.idle: 3.58µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(4)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.951052Z  INFO ploke_rag::core: close, time.busy: 94.3µs, time.idle: 1.02s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(4)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.951066Z  INFO ploke_rag::core: close, time.busy: 1.02s, time.idle: 232µs
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(4)
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.951079Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 1.02s, time.idle: 4.21µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.963122Z  INFO ploke_rag::core: close, time.busy: 19.2µs, time.idle: 16.5µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(5)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:18.963188Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(5)
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.041079Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(9)
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.041131Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(9)
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.041153Z  INFO ploke_rag::core: close, time.busy: 956ms, time.idle: 6.72µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(9)
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.041204Z  INFO ploke_rag::core: close, time.busy: 25.8µs, time.idle: 956ms
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(9)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.041275Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(9)
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.043257Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(14)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.043296Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(14)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.043312Z  INFO ploke_rag::core: close, time.busy: 1.04s, time.idle: 5.52µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(14)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.043352Z  INFO ploke_rag::core: close, time.busy: 42.0µs, time.idle: 1.04s
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(14)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.043412Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(14)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.044898Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(6)
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.044943Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(6)
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.044965Z  INFO ploke_rag::core: close, time.busy: 978ms, time.idle: 6.46µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(6)
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.045012Z  INFO ploke_rag::core: close, time.busy: 25.0µs, time.idle: 978ms
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(6)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.045070Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(6)
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.049788Z  INFO ploke_rag::core: close, time.busy: 20.0µs, time.idle: 18.5µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(13)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.049861Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(13)
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.050173Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(13)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.065557Z  INFO ploke_rag::core: close, time.busy: 18.8µs, time.idle: 17.0µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(5)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.065630Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(5)
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.065926Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(5)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.071305Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(8)
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.071358Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(8)
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.071378Z  INFO ploke_rag::core: close, time.busy: 1.01s, time.idle: 7.67µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(8)
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.071430Z  INFO ploke_rag::core: close, time.busy: 32.2µs, time.idle: 1.01s
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(8)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.071506Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(8)
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.092511Z  INFO ploke_rag::core: close, time.busy: 21.1µs, time.idle: 20.2µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(9)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.092588Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(9)
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.094640Z  INFO ploke_rag::core: close, time.busy: 20.2µs, time.idle: 21.1µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(14)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.094738Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(14)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.096441Z  INFO ploke_rag::core: close, time.busy: 21.2µs, time.idle: 20.2µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(6)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.096522Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(6)
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.106490Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(7)
    in ploke_rag::core::search with query_len: 38, top_k: 15
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.106530Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(7)
    in ploke_rag::core::search with query_len: 38, top_k: 15
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.106547Z  INFO ploke_rag::core: close, time.busy: 1.01s, time.idle: 5.83µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(7)
    in ploke_rag::core::search with query_len: 38, top_k: 15
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.106588Z  INFO ploke_rag::core: close, time.busy: 21.1µs, time.idle: 1.01s
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(7)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 38, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.106643Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(7)
    in ploke_rag::core::search_bm25 with query_len: 38, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.106682Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(7)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.106694Z  INFO ploke_tui::event_bus: close, time.busy: 12.5µs, time.idle: 2.16µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(7)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.106714Z  WARN ploke_tui::app::events: Unused system event in main app loop: ToolCallCompleted { request_id: 1c2d5d9f-8fb2-43ed-8625-89fe1a863733, parent_id: a0eee827-adb0-47a0-aa4c-142b80c440dc, call_id: "{\"error\": \"File not found\"}", content: "get_file_metadata" }
    at crates/ploke-tui/src/app/events.rs:262 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.106937Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.109896Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(2)
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.109949Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(2)
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.109970Z  INFO ploke_rag::core: close, time.busy: 1.09s, time.idle: 6.49µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(2)
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.110016Z  INFO ploke_rag::core: close, time.busy: 37.2µs, time.idle: 1.09s
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(2)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.110090Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(2)
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.122750Z  INFO ploke_rag::core: close, time.busy: 24.0µs, time.idle: 21.2µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(8)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.122850Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(8)
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.155046Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(10)
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.155134Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(10)
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.155160Z  INFO ploke_rag::core: close, time.busy: 1.06s, time.idle: 8.03µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(10)
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.155252Z  INFO ploke_rag::core: close, time.busy: 27.9µs, time.idle: 1.06s
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(10)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.155363Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(10)
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.157331Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(7)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.157380Z  INFO ploke_tui::event_bus: close, time.busy: 51.5µs, time.idle: 6.84µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(7)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.157517Z  INFO ploke_rag::core: close, time.busy: 22.6µs, time.idle: 75.4µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(7)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 38, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.157600Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(7)
    in ploke_rag::core::search_bm25 with query_len: 38, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.157660Z  INFO ploke_rag::core: close, time.busy: 129µs, time.idle: 1.06s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(7)
    in ploke_rag::core::search_bm25 with query_len: 38, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.157670Z  INFO ploke_rag::core: close, time.busy: 1.01s, time.idle: 51.0ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(7)
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.157681Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 1.06s, time.idle: 3.64µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.161366Z  INFO ploke_rag::core: close, time.busy: 29.2µs, time.idle: 25.9µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(2)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.161512Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(2)
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.193944Z  INFO ploke_rag::core: close, time.busy: 38.6µs, time.idle: 29.1µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(9)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.194110Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(9)
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.194511Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(9)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.196064Z  INFO ploke_rag::core: close, time.busy: 33.8µs, time.idle: 27.8µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(14)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.196221Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(14)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.196805Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(14)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.197406Z  INFO ploke_rag::core: close, time.busy: 27.3µs, time.idle: 24.9µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(6)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.197524Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(6)
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.197923Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(6)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.206315Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(13)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.206570Z  INFO ploke_rag::core: close, time.busy: 28.0µs, time.idle: 24.9µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(10)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.206699Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(10)
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.206719Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(13)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.206748Z DEBUG ploke_embed::local: close, time.busy: 157ms, time.idle: 2.67µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(13)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.224002Z  INFO ploke_rag::core: close, time.busy: 46.3µs, time.idle: 34.4µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(8)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.224181Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(8)
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.224768Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(8)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.262902Z  INFO ploke_rag::core: close, time.busy: 45.9µs, time.idle: 34.7µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(2)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.263102Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(2)
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.264668Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.268326Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(12)
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.268434Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(12)
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.268498Z  INFO ploke_rag::core: close, time.busy: 1.18s, time.idle: 6.66µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(12)
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.268609Z  INFO ploke_rag::core: close, time.busy: 30.2µs, time.idle: 1.18s
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(12)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.268745Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(12)
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.296074Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(5)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.296749Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(5)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.296807Z DEBUG ploke_embed::local: close, time.busy: 231ms, time.idle: 4.58µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(5)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.308057Z  INFO ploke_rag::core: close, time.busy: 43.8µs, time.idle: 33.2µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(10)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.308228Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(10)
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.308898Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(10)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.319926Z  INFO ploke_rag::core: close, time.busy: 36.2µs, time.idle: 28.6µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(12)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.320089Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(12)
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.421968Z  INFO ploke_rag::core: close, time.busy: 43.6µs, time.idle: 31.9µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(12)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.422152Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(12)
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.426515Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(12)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.544281Z DEBUG ploke_embed::local: shapes: outputs=[1, 9, 384], weights=[1, 9, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(9)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.544936Z DEBUG ploke_embed::local: shapes: outputs=[1, 9, 384], weights=[1, 9, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(9)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.544984Z DEBUG ploke_embed::local: close, time.busy: 351ms, time.idle: 4.72µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(9)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.594173Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(6)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.594921Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(6)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.594992Z DEBUG ploke_embed::local: close, time.busy: 397ms, time.idle: 4.84µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(6)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.609308Z DEBUG ploke_embed::local: shapes: outputs=[1, 14, 384], weights=[1, 14, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(8)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.610214Z DEBUG ploke_embed::local: shapes: outputs=[1, 14, 384], weights=[1, 14, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(8)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.610302Z DEBUG ploke_embed::local: close, time.busy: 386ms, time.idle: 5.72µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(8)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.678729Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(13)
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.679826Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(13)
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.679907Z  INFO ploke_rag::core: close, time.busy: 630ms, time.idle: 8.82µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(13)
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.679968Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(13)
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.679995Z  INFO ploke_rag::core: close, time.busy: 630ms, time.idle: 1.12s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(13)
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.691418Z DEBUG ploke_embed::local: shapes: outputs=[1, 21, 384], weights=[1, 21, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(14)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.692596Z DEBUG ploke_embed::local: shapes: outputs=[1, 21, 384], weights=[1, 21, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(14)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.692657Z DEBUG ploke_embed::local: close, time.busy: 496ms, time.idle: 4.66µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(14)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.775475Z  INFO ploke_rag::context: close, time.busy: 88.2ms, time.idle: 7.23ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(13)
    in ploke_rag::context::assemble_context with query_len: 28, hits: 15
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.775558Z  INFO ploke_rag::core: close, time.busy: 1.69s, time.idle: 160ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(13)
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.775586Z  INFO ploke_tui::rag::context: constructing context (RAG) with 15 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.775608Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.775634Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(13)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.775654Z  INFO ploke_tui::event_bus: close, time.busy: 20.6µs, time.idle: 3.57µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(13)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.775671Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 1.85s, time.idle: 5.19µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.775710Z  INFO ploke_tui::llm: Received context for parent_id: 045194dd-d81c-4bec-a7c2-de298a96f9ae
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(13)

  2025-09-03T16:27:19.775731Z  INFO ploke_tui::llm: pending_requests found match for req_parent: 045194dd-d81c-4bec-a7c2-de298a96f9ae
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(13)

  2025-09-03T16:27:19.775739Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: 045194dd-d81c-4bec-a7c2-de298a96f9ae
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(13)

  2025-09-03T16:27:19.775759Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(13)

  2025-09-03T16:27:19.775836Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(13)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:19.775850Z  INFO ploke_tui::event_bus: close, time.busy: 13.3µs, time.idle: 2.15µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(13)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:19.775861Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 44.2µs, time.idle: 2.04µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:19.775892Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(13)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.775924Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: None, require_tool_support: false
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(13)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.775973Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: false
	tool_names: 
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(13)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.777758Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(13)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.777856Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: false, messages: 18
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(13)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.777888Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: false, tools: 
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(13)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.778382Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(13)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.778914Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(13)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.808519Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(5)
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.808618Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(5)
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.808654Z  INFO ploke_rag::core: close, time.busy: 743ms, time.idle: 10.7µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(5)
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.808685Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(5)
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.808703Z  INFO ploke_rag::core: close, time.busy: 743ms, time.idle: 1.07s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(5)
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.815067Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 35.4ms, time.idle: 1.13ms
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(135)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.815286Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(13)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.838787Z DEBUG ploke_embed::local: shapes: outputs=[1, 24, 384], weights=[1, 24, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(10)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.839883Z DEBUG ploke_embed::local: shapes: outputs=[1, 24, 384], weights=[1, 24, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(10)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.839932Z DEBUG ploke_embed::local: close, time.busy: 532ms, time.idle: 4.00µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(10)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.840673Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(13)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.863707Z DEBUG ploke_embed::local: shapes: outputs=[1, 33, 384], weights=[1, 33, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.864826Z DEBUG ploke_embed::local: shapes: outputs=[1, 33, 384], weights=[1, 33, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.864865Z DEBUG ploke_embed::local: close, time.busy: 602ms, time.idle: 4.18µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.876375Z DEBUG ploke_rag::context: Skipping snippet for 40771e15-c371-5307-8074-2ae7de4f00c6 due to IO error: Fatal(FileOperation { operation: "read", path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs", source: Custom { kind: InvalidInput, error: "Byte range 398-484 exceeds file length 481" } })
    at crates/ploke-rag/src/context/mod.rs:217 on ThreadId(5)
    in ploke_rag::context::assemble_context with query_len: 29, hits: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.876511Z  INFO ploke_rag::context: close, time.busy: 60.7ms, time.idle: 7.01ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(5)
    in ploke_rag::context::assemble_context with query_len: 29, hits: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.876547Z  INFO ploke_rag::core: close, time.busy: 1.72s, time.idle: 160ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(5)
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.876559Z  INFO ploke_tui::rag::context: constructing context (RAG) with 14 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.876575Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.876602Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(5)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.876624Z  INFO ploke_tui::event_bus: close, time.busy: 21.8µs, time.idle: 3.28µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(5)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.876642Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 1.88s, time.idle: 5.33µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.876679Z  INFO ploke_tui::llm: Received context for parent_id: d1b1ce66-295f-4527-b73e-401e5f37c4f6
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(5)

  2025-09-03T16:27:19.876701Z  INFO ploke_tui::llm: pending_requests found match for req_parent: d1b1ce66-295f-4527-b73e-401e5f37c4f6
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(5)

  2025-09-03T16:27:19.876708Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: d1b1ce66-295f-4527-b73e-401e5f37c4f6
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(5)

  2025-09-03T16:27:19.876726Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(5)

  2025-09-03T16:27:19.876803Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(5)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:19.876820Z  INFO ploke_tui::event_bus: close, time.busy: 16.4µs, time.idle: 2.44µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(5)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:19.876832Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 50.9µs, time.idle: 2.21µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:19.876863Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(5)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.876895Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: None, require_tool_support: false
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(5)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.876909Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: false
	tool_names: 
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(5)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.876977Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(5)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.877002Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: false, messages: 17
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(5)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.877015Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: false, tools: 
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(5)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.877251Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(5)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.877694Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(5)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.917945Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 40.5ms, time.idle: 151µs
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(136)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.918811Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(5)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.943076Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(5)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:19.957861Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(9)
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.957950Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(9)
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.957978Z  INFO ploke_rag::core: close, time.busy: 764ms, time.idle: 8.16µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(9)
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.958001Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(9)
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:19.958018Z  INFO ploke_rag::core: close, time.busy: 764ms, time.idle: 1.11s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(9)
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.027948Z DEBUG ploke_rag::context: Skipping snippet for 40771e15-c371-5307-8074-2ae7de4f00c6 due to IO error: Fatal(FileOperation { operation: "read", path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs", source: Custom { kind: InvalidInput, error: "Byte range 398-484 exceeds file length 481" } })
    at crates/ploke-rag/src/context/mod.rs:217 on ThreadId(9)
    in ploke_rag::context::assemble_context with query_len: 27, hits: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.028092Z  INFO ploke_rag::context: close, time.busy: 63.2ms, time.idle: 6.81ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(9)
    in ploke_rag::context::assemble_context with query_len: 27, hits: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.028123Z  INFO ploke_rag::core: close, time.busy: 1.78s, time.idle: 159ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(9)
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.028134Z  INFO ploke_tui::rag::context: constructing context (RAG) with 14 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.028149Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.028179Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(9)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.028197Z  INFO ploke_tui::event_bus: close, time.busy: 18.3µs, time.idle: 2.93µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(9)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.028213Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 1.94s, time.idle: 4.50µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.028250Z  INFO ploke_tui::llm: Received context for parent_id: 58adb9a6-e3bb-4992-a11f-2403050d72f0
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(9)

  2025-09-03T16:27:20.028269Z  INFO ploke_tui::llm: pending_requests found match for req_parent: 58adb9a6-e3bb-4992-a11f-2403050d72f0
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(9)

  2025-09-03T16:27:20.028276Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: 58adb9a6-e3bb-4992-a11f-2403050d72f0
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(9)

  2025-09-03T16:27:20.028290Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(9)

  2025-09-03T16:27:20.028358Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(9)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.028369Z  INFO ploke_tui::event_bus: close, time.busy: 10.3µs, time.idle: 2.24µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(9)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.028379Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 41.5µs, time.idle: 2.01µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.028411Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(9)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.028440Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: None, require_tool_support: false
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(9)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.028452Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: false
	tool_names: 
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(9)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.028511Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(9)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.028529Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: false, messages: 17
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(9)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.028540Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: false, tools: 
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(9)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.028790Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(9)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.029221Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(9)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.035950Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(6)
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.036015Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(6)
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.036041Z  INFO ploke_rag::core: close, time.busy: 838ms, time.idle: 8.10µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(6)
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.036063Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(6)
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.036082Z  INFO ploke_rag::core: close, time.busy: 839ms, time.idle: 1.13s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(6)
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.057582Z DEBUG ploke_embed::local: shapes: outputs=[1, 36, 384], weights=[1, 36, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(12)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.059674Z DEBUG ploke_embed::local: shapes: outputs=[1, 36, 384], weights=[1, 36, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(12)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.059756Z DEBUG ploke_embed::local: close, time.busy: 638ms, time.idle: 5.28µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(12)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.060367Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 30.5ms, time.idle: 1.02ms
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(137)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.060556Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.3.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(9)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.084945Z  INFO ploke_rag::context: close, time.busy: 42.9ms, time.idle: 5.85ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(6)
    in ploke_rag::context::assemble_context with query_len: 34, hits: 15
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.085020Z  INFO ploke_rag::core: close, time.busy: 1.86s, time.idle: 158ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(6)
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.085035Z  INFO ploke_tui::rag::context: constructing context (RAG) with 15 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.085055Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.085085Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.085106Z  INFO ploke_tui::event_bus: close, time.busy: 21.6µs, time.idle: 3.45µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.085124Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 2.02s, time.idle: 4.06µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.085158Z  INFO ploke_tui::llm: Received context for parent_id: 1a0b843f-4683-40c8-91dc-06dc1887ffe2
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(6)

  2025-09-03T16:27:20.085179Z  INFO ploke_tui::llm: pending_requests found match for req_parent: 1a0b843f-4683-40c8-91dc-06dc1887ffe2
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(6)

  2025-09-03T16:27:20.085187Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: 1a0b843f-4683-40c8-91dc-06dc1887ffe2
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(6)

  2025-09-03T16:27:20.085204Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(6)

  2025-09-03T16:27:20.085275Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.085293Z  INFO ploke_tui::event_bus: close, time.busy: 17.3µs, time.idle: 2.42µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.085306Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 51.8µs, time.idle: 2.11µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.085337Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(6)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.085370Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: None, require_tool_support: false
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(6)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.085384Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: false
	tool_names: 
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(6)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.085451Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(6)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.085479Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: false, messages: 18
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(6)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.085475Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.3.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(9)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.085493Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: false, tools: 
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(6)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.085734Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(6)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.086162Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(6)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.091788Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(8)
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.091889Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(8)
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.091918Z  INFO ploke_rag::core: close, time.busy: 868ms, time.idle: 8.06µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(8)
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.091937Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(8)
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.091953Z  INFO ploke_rag::core: close, time.busy: 868ms, time.idle: 1.17s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(8)
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.102066Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(14)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.102117Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(14)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.102140Z  INFO ploke_rag::core: close, time.busy: 906ms, time.idle: 7.68µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(14)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.102156Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(14)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.102169Z  INFO ploke_rag::core: close, time.busy: 906ms, time.idle: 1.19s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(14)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.119553Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 32.7ms, time.idle: 1.01ms
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(138)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.119699Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(6)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.145145Z  INFO ploke_rag::context: close, time.busy: 47.8ms, time.idle: 5.29ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(8)
    in ploke_rag::context::assemble_context with query_len: 58, hits: 15
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.145208Z  INFO ploke_rag::core: close, time.busy: 1.93s, time.idle: 158ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(8)
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.145220Z  INFO ploke_tui::rag::context: constructing context (RAG) with 15 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.145237Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.145259Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(8)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.145275Z  INFO ploke_tui::event_bus: close, time.busy: 16.4µs, time.idle: 2.21µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(8)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.145288Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 2.09s, time.idle: 5.26µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.145315Z  INFO ploke_tui::llm: Received context for parent_id: 9e00a3e3-ad32-40eb-b43e-036538b5ae71
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(8)

  2025-09-03T16:27:20.145332Z  INFO ploke_tui::llm: pending_requests found match for req_parent: 9e00a3e3-ad32-40eb-b43e-036538b5ae71
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(8)

  2025-09-03T16:27:20.145337Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: 9e00a3e3-ad32-40eb-b43e-036538b5ae71
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(8)

  2025-09-03T16:27:20.145351Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(8)

  2025-09-03T16:27:20.145415Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(8)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.145437Z  INFO ploke_tui::event_bus: close, time.busy: 20.9µs, time.idle: 2.27µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(8)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.145452Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 57.3µs, time.idle: 2.09µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.145484Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(8)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.145518Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: None, require_tool_support: false
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(8)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.145531Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: false
	tool_names: 
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(8)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.145592Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(8)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.145615Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: false, messages: 18
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(8)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.145628Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: false, tools: 
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(8)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.145893Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(8)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.146355Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(8)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.146905Z DEBUG ploke_rag::context: Skipping snippet for 40771e15-c371-5307-8074-2ae7de4f00c6 due to IO error: Fatal(FileOperation { operation: "read", path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs", source: Custom { kind: InvalidInput, error: "Byte range 398-484 exceeds file length 481" } })
    at crates/ploke-rag/src/context/mod.rs:217 on ThreadId(14)
    in ploke_rag::context::assemble_context with query_len: 71, hits: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.147007Z  INFO ploke_rag::context: close, time.busy: 39.6ms, time.idle: 5.21ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(14)
    in ploke_rag::context::assemble_context with query_len: 71, hits: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.147032Z  INFO ploke_rag::core: close, time.busy: 1.98s, time.idle: 158ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(14)
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.147044Z  INFO ploke_tui::rag::context: constructing context (RAG) with 14 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.147057Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.147076Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.147093Z  INFO ploke_tui::event_bus: close, time.busy: 16.5µs, time.idle: 3.06µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.147113Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 2.14s, time.idle: 6.72µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.147138Z  INFO ploke_tui::llm: Received context for parent_id: e92f1e28-4390-4c88-8118-f603666a6275
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(14)

  2025-09-03T16:27:20.147154Z  INFO ploke_tui::llm: pending_requests found match for req_parent: e92f1e28-4390-4c88-8118-f603666a6275
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(14)

  2025-09-03T16:27:20.147161Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: e92f1e28-4390-4c88-8118-f603666a6275
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(14)

  2025-09-03T16:27:20.147174Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(14)

  2025-09-03T16:27:20.147223Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.147236Z  INFO ploke_tui::event_bus: close, time.busy: 12.0µs, time.idle: 1.99µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.147245Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 37.1µs, time.idle: 1.94µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.147283Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(14)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.147313Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: Some(true), require_tool_support: false
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(14)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.147385Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: true
	tool_names: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(14)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.147434Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(14)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.147468Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: true, messages: 17
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(14)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.147485Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: true, tools: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(14)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.147744Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(14)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.148163Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(14)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.148955Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(10)
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.149007Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(10)
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.149027Z  INFO ploke_rag::core: close, time.busy: 841ms, time.idle: 6.53µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(10)
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.149040Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(10)
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.149051Z  INFO ploke_rag::core: close, time.busy: 841ms, time.idle: 1.22s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(10)
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.149153Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(6)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.185622Z DEBUG ploke_rag::context: Skipping snippet for 40771e15-c371-5307-8074-2ae7de4f00c6 due to IO error: Fatal(FileOperation { operation: "read", path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs", source: Custom { kind: InvalidInput, error: "Byte range 398-484 exceeds file length 481" } })
    at crates/ploke-rag/src/context/mod.rs:217 on ThreadId(10)
    in ploke_rag::context::assemble_context with query_len: 83, hits: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.185697Z  INFO ploke_rag::context: close, time.busy: 31.9ms, time.idle: 4.73ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(10)
    in ploke_rag::context::assemble_context with query_len: 83, hits: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.185713Z  INFO ploke_rag::core: close, time.busy: 1.94s, time.idle: 157ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(10)
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.185721Z  INFO ploke_tui::rag::context: constructing context (RAG) with 14 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.185731Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.185750Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.185772Z  INFO ploke_tui::event_bus: close, time.busy: 13.2µs, time.idle: 2.25µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.185815Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 2.09s, time.idle: 4.73µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.185842Z  INFO ploke_tui::llm: Received context for parent_id: 501f9d0a-c17a-480c-9c44-7fb39ade1d71
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(10)

  2025-09-03T16:27:20.185862Z  INFO ploke_tui::llm: pending_requests found match for req_parent: 501f9d0a-c17a-480c-9c44-7fb39ade1d71
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(10)

  2025-09-03T16:27:20.185867Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: 501f9d0a-c17a-480c-9c44-7fb39ade1d71
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(10)

  2025-09-03T16:27:20.185880Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(10)

  2025-09-03T16:27:20.185936Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.185947Z  INFO ploke_tui::event_bus: close, time.busy: 10.5µs, time.idle: 2.04µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.185954Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 33.1µs, time.idle: 1.82µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.185973Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(10)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.185998Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: Some(true), require_tool_support: false
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(10)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.186028Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: true
	tool_names: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(10)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.186035Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 38.1ms, time.idle: 93.6µs
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(141)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.186078Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(10)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.186105Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: true, messages: 17
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(10)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.186116Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: true, tools: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(10)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.186139Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(14)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.186344Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(10)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.186888Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(10)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.187080Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 41.0ms, time.idle: 90.6µs
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(140)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.187173Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(8)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.211387Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(14)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.219133Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 32.6ms, time.idle: 127µs
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(143)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.219263Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(10)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.239376Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(2)
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.239420Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(2)
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.239437Z  INFO ploke_rag::core: close, time.busy: 976ms, time.idle: 6.37µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(2)
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.239450Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(2)
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.239461Z  INFO ploke_rag::core: close, time.busy: 977ms, time.idle: 1.24s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(2)
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.248422Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(10)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.275734Z DEBUG ploke_rag::context: Skipping snippet for 40771e15-c371-5307-8074-2ae7de4f00c6 due to IO error: Fatal(FileOperation { operation: "read", path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs", source: Custom { kind: InvalidInput, error: "Byte range 398-484 exceeds file length 481" } })
    at crates/ploke-rag/src/context/mod.rs:217 on ThreadId(2)
    in ploke_rag::context::assemble_context with query_len: 132, hits: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.275801Z  INFO ploke_rag::context: close, time.busy: 32.4ms, time.idle: 3.88ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(2)
    in ploke_rag::context::assemble_context with query_len: 132, hits: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.275817Z  INFO ploke_rag::core: close, time.busy: 2.10s, time.idle: 157ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(2)
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.275824Z  INFO ploke_tui::rag::context: constructing context (RAG) with 14 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.275832Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.275848Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.275859Z  INFO ploke_tui::event_bus: close, time.busy: 10.5µs, time.idle: 1.86µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.275869Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 2.25s, time.idle: 4.02µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.275884Z  INFO ploke_tui::llm: Received context for parent_id: 696bef47-2171-438d-a4df-1433f5cf20ac
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(2)

  2025-09-03T16:27:20.275895Z  INFO ploke_tui::llm: pending_requests found match for req_parent: 696bef47-2171-438d-a4df-1433f5cf20ac
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(2)

  2025-09-03T16:27:20.275899Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: 696bef47-2171-438d-a4df-1433f5cf20ac
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(2)

  2025-09-03T16:27:20.275909Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(2)

  2025-09-03T16:27:20.275943Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.275951Z  INFO ploke_tui::event_bus: close, time.busy: 8.19µs, time.idle: 1.26µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.275959Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 26.5µs, time.idle: 1.28µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.275973Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(2)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.275992Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: Some(true), require_tool_support: true
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(2)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.276014Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: true
	tool_names: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(2)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.276051Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.276070Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: true, messages: 17
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.276079Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: true, tools: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.276241Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.276628Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.287385Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(12)
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.287427Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(12)
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.287445Z  INFO ploke_rag::core: close, time.busy: 865ms, time.idle: 6.37µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(12)
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.287458Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(12)
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.287468Z  INFO ploke_rag::core: close, time.busy: 866ms, time.idle: 1.33s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(12)
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.307308Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 31.0ms, time.idle: 75.6µs
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(144)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.307391Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.3.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(2)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.324158Z DEBUG ploke_rag::context: Skipping snippet for 40771e15-c371-5307-8074-2ae7de4f00c6 due to IO error: Fatal(FileOperation { operation: "read", path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs", source: Custom { kind: InvalidInput, error: "Byte range 398-484 exceeds file length 481" } })
    at crates/ploke-rag/src/context/mod.rs:217 on ThreadId(12)
    in ploke_rag::context::assemble_context with query_len: 134, hits: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.324270Z  INFO ploke_rag::context: close, time.busy: 31.0ms, time.idle: 5.77ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(12)
    in ploke_rag::context::assemble_context with query_len: 134, hits: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.324299Z  INFO ploke_rag::core: close, time.busy: 2.07s, time.idle: 159ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(12)
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.324311Z  INFO ploke_tui::rag::context: constructing context (RAG) with 14 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.324326Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.324360Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.324379Z  INFO ploke_tui::event_bus: close, time.busy: 18.9µs, time.idle: 3.73µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.324396Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 2.23s, time.idle: 4.75µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:27:20.324421Z  INFO ploke_tui::llm: Received context for parent_id: 23324e6d-9dd4-4a40-8fe8-a0e3fa4a3e70
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(12)

  2025-09-03T16:27:20.324439Z  INFO ploke_tui::llm: pending_requests found match for req_parent: 23324e6d-9dd4-4a40-8fe8-a0e3fa4a3e70
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(12)

  2025-09-03T16:27:20.324446Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: 23324e6d-9dd4-4a40-8fe8-a0e3fa4a3e70
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(12)

  2025-09-03T16:27:20.324462Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(12)

  2025-09-03T16:27:20.324520Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.324533Z  INFO ploke_tui::event_bus: close, time.busy: 12.4µs, time.idle: 2.42µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.324546Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 42.1µs, time.idle: 2.60µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:27:20.324574Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(12)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.324603Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: Some(true), require_tool_support: true
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(12)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.324638Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: true
	tool_names: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(12)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.324697Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.324729Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: true, messages: 17
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.324744Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: true, tools: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.324998Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.325427Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.332672Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.3.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(2)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.341649Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(8)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.355492Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 30.4ms, time.idle: 80.6µs
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(145)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.355643Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.3.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(12)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:20.380299Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.3.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(12)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.527253Z DEBUG hyper_util::client::legacy::pool: pooling idle connection for ("https", openrouter.ai)
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/pool.rs:396 on ThreadId(14)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.527389Z DEBUG ploke_tui::app::events: Test harness API response event received
    at crates/ploke-tui/src/app/events.rs:259 on ThreadId(14)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.527704Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(14)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.528121Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.528139Z  INFO ploke_tui::event_bus: close, time.busy: 17.0µs, time.idle: 5.92µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.528169Z DEBUG ploke_tui::llm::session: Awaiting tool result
    at crates/ploke-tui/src/llm/session.rs:446 on ThreadId(14)
    in ploke_tui::llm::session::await_tool_result with request_id: 38630b96-eb30-4877-97f1-1b80479ed312, call_id: "functions.request_code_context:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.528207Z  INFO ploke_tui::llm: Dispatching ToolEvent::Requested in LLM manager, request_id: 38630b96-eb30-4877-97f1-1b80479ed312, parent_id: e92f1e28-4390-4c88-8118-f603666a6275, call_id: "functions.request_code_context:0", tool: RequestCodeContext
    at crates/ploke-tui/src/llm/mod.rs:388 on ThreadId(14)
    in ploke_tui::llm::session::await_tool_result with request_id: 38630b96-eb30-4877-97f1-1b80479ed312, call_id: "functions.request_code_context:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.727360Z DEBUG hyper_util::client::legacy::pool: pooling idle connection for ("https", openrouter.ai)
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/pool.rs:396 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.727481Z DEBUG ploke_tui::app::events: Test harness API response event received
    at crates/ploke-tui/src/app/events.rs:259 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.728001Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.728412Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.728430Z  INFO ploke_tui::event_bus: close, time.busy: 16.6µs, time.idle: 5.35µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.728456Z DEBUG ploke_tui::llm::session: Awaiting tool result
    at crates/ploke-tui/src/llm/session.rs:446 on ThreadId(12)
    in ploke_tui::llm::session::await_tool_result with request_id: bcbca636-198e-449f-8762-97987e9c00e7, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.728488Z  INFO ploke_tui::llm: Dispatching ToolEvent::Requested in LLM manager, request_id: bcbca636-198e-449f-8762-97987e9c00e7, parent_id: 23324e6d-9dd4-4a40-8fe8-a0e3fa4a3e70, call_id: "functions.get_file_metadata:0", tool: GetFileMetadata
    at crates/ploke-tui/src/llm/mod.rs:388 on ThreadId(12)
    in ploke_tui::llm::session::await_tool_result with request_id: bcbca636-198e-449f-8762-97987e9c00e7, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.728775Z  WARN ploke_tui::app::events: Unused system event in main app loop: ToolCallCompleted { request_id: bcbca636-198e-449f-8762-97987e9c00e7, parent_id: 23324e6d-9dd4-4a40-8fe8-a0e3fa4a3e70, call_id: "functions.get_file_metadata:0", content: "{\"ok\":true,\"file_path\":\"Cargo.toml\",\"exists\":true,\"byte_len\":2315,\"modified_ms\":1756879048526,\"file_hash\":\"9a41bf9f-0790-5e5c-abb8-403dfe4901cd\",\"tracking_hash\":\"9a41bf9f-0790-5e5c-abb8-403dfe4901cd\"}" }
    at crates/ploke-tui/src/app/events.rs:262 on ThreadId(12)
    in ploke_tui::llm::session::await_tool_result with request_id: bcbca636-198e-449f-8762-97987e9c00e7, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.729134Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(12)
    in ploke_tui::llm::session::await_tool_result with request_id: bcbca636-198e-449f-8762-97987e9c00e7, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.729523Z  INFO ploke_tui::llm::session: close, time.busy: 1.07ms, time.idle: 2.77µs
    at crates/ploke-tui/src/llm/session.rs:444 on ThreadId(12)
    in ploke_tui::llm::session::await_tool_result with request_id: bcbca636-198e-449f-8762-97987e9c00e7, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.729596Z  INFO ploke_tui::llm::session: close, time.busy: 1.40s, time.idle: 2.87µs
    at crates/ploke-tui/src/llm/session.rs:45 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.730023Z  INFO ploke_tui::llm: close, time.busy: 2.71ms, time.idle: 1.40s
    at crates/ploke-tui/src/llm/mod.rs:611 on ThreadId(12)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.730052Z  INFO ploke_tui::llm: close, time.busy: 2.82ms, time.idle: 1.40s
    at crates/ploke-tui/src/llm/mod.rs:473 on ThreadId(12)
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.730117Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 20493c39-131f-49a9-90ea-bb48b44b4afe, content: "LLM request failed: An unknown error occurred: Tool call retries exhausted after 4 attempt(s)", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.730128Z  INFO ploke_tui::event_bus: close, time.busy: 11.5µs, time.idle: 1.72µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 20493c39-131f-49a9-90ea-bb48b44b4afe, content: "LLM request failed: An unknown error occurred: Tool call retries exhausted after 4 attempt(s)", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.730139Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 44.0µs, time.idle: 3.99µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(12)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 20493c39-131f-49a9-90ea-bb48b44b4afe, content: "LLM request failed: An unknown error occurred: Tool call retries exhausted after 4 attempt(s)", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.730146Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 63.9µs, time.idle: 2.20µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.730172Z  INFO ploke_tui::app_state::handlers::chat: Updating message 8c5a16a8-1d03-4779-820c-4029c1720e0c status=Some(Completed) content_preview=Request failed: An unknown error occurred: Tool call retries exhausted after 4 attempt(s)
    at crates/ploke-tui/src/app_state/handlers/chat.rs:24 on ThreadId(12)
    in ploke_tui::app_state::handlers::chat::update_message with id: 8c5a16a8-1d03-4779-820c-4029c1720e0c, msg_id: 8c5a16a8-1d03-4779-820c-4029c1720e0c, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.730181Z  INFO ploke_tui::app_state::handlers::chat: Message updated successfully; dispatching MessageUpdatedEvent, msg_id: 8c5a16a8-1d03-4779-820c-4029c1720e0c, kind: Assistant, old_status: Generating, new_status: Completed
    at crates/ploke-tui/src/app_state/handlers/chat.rs:42 on ThreadId(12)
    in ploke_tui::app_state::handlers::chat::update_message with id: 8c5a16a8-1d03-4779-820c-4029c1720e0c, msg_id: 8c5a16a8-1d03-4779-820c-4029c1720e0c, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.730189Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::update_message with id: 8c5a16a8-1d03-4779-820c-4029c1720e0c, msg_id: 8c5a16a8-1d03-4779-820c-4029c1720e0c, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.730196Z  INFO ploke_tui::event_bus: close, time.busy: 6.63µs, time.idle: 1.53µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::update_message with id: 8c5a16a8-1d03-4779-820c-4029c1720e0c, msg_id: 8c5a16a8-1d03-4779-820c-4029c1720e0c, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.730206Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 35.2µs, time.idle: 3.15µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:17 on ThreadId(12)
    in ploke_tui::app_state::handlers::chat::update_message with id: 8c5a16a8-1d03-4779-820c-4029c1720e0c, msg_id: 8c5a16a8-1d03-4779-820c-4029c1720e0c, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.730213Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 58.2µs, time.idle: 1.49µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.730229Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: dde80dac-84b3-4370-b191-b48b90f2af41, content: "Request summary: error (An unknown error occurred: Tool call retries exhausted after 4 attempt(s))", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.730236Z  INFO ploke_tui::event_bus: close, time.busy: 6.29µs, time.idle: 1.46µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: dde80dac-84b3-4370-b191-b48b90f2af41, content: "Request summary: error (An unknown error occurred: Tool call retries exhausted after 4 attempt(s))", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.730245Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 20.1µs, time.idle: 2.23µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(12)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: dde80dac-84b3-4370-b191-b48b90f2af41, content: "Request summary: error (An unknown error occurred: Tool call retries exhausted after 4 attempt(s))", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.730253Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 32.8µs, time.idle: 1.38µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.730936Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(12)

  2025-09-03T16:27:21.731948Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(12)

  2025-09-03T16:27:21.732919Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(12)

  2025-09-03T16:27:21.908882Z DEBUG hyper_util::client::legacy::pool: pooling idle connection for ("https", openrouter.ai)
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/pool.rs:396 on ThreadId(10)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.909006Z DEBUG ploke_tui::app::events: Test harness API response event received
    at crates/ploke-tui/src/app/events.rs:259 on ThreadId(10)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.909441Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(10)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.909857Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.909875Z  INFO ploke_tui::event_bus: close, time.busy: 16.8µs, time.idle: 5.84µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.909902Z DEBUG ploke_tui::llm::session: Awaiting tool result
    at crates/ploke-tui/src/llm/session.rs:446 on ThreadId(10)
    in ploke_tui::llm::session::await_tool_result with request_id: 9df8fea4-892f-488c-a11f-26515e175c4f, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.909933Z  INFO ploke_tui::llm: Dispatching ToolEvent::Requested in LLM manager, request_id: 9df8fea4-892f-488c-a11f-26515e175c4f, parent_id: 501f9d0a-c17a-480c-9c44-7fb39ade1d71, call_id: "functions.get_file_metadata:0", tool: GetFileMetadata
    at crates/ploke-tui/src/llm/mod.rs:388 on ThreadId(10)
    in ploke_tui::llm::session::await_tool_result with request_id: 9df8fea4-892f-488c-a11f-26515e175c4f, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.910360Z  WARN ploke_tui::app::events: Unused system event in main app loop: ToolCallCompleted { request_id: 9df8fea4-892f-488c-a11f-26515e175c4f, parent_id: 501f9d0a-c17a-480c-9c44-7fb39ade1d71, call_id: "functions.get_file_metadata:0", content: "{\"ok\":true,\"file_path\":\"Cargo.toml\",\"exists\":true,\"byte_len\":2315,\"modified_ms\":1756879048526,\"file_hash\":\"9a41bf9f-0790-5e5c-abb8-403dfe4901cd\",\"tracking_hash\":\"9a41bf9f-0790-5e5c-abb8-403dfe4901cd\"}" }
    at crates/ploke-tui/src/app/events.rs:262 on ThreadId(10)
    in ploke_tui::llm::session::await_tool_result with request_id: 9df8fea4-892f-488c-a11f-26515e175c4f, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.911022Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(10)
    in ploke_tui::llm::session::await_tool_result with request_id: 9df8fea4-892f-488c-a11f-26515e175c4f, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.911419Z  INFO ploke_tui::llm::session: close, time.busy: 1.52ms, time.idle: 3.19µs
    at crates/ploke-tui/src/llm/session.rs:444 on ThreadId(10)
    in ploke_tui::llm::session::await_tool_result with request_id: 9df8fea4-892f-488c-a11f-26515e175c4f, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.911488Z  INFO ploke_tui::llm::session: close, time.busy: 1.73s, time.idle: 2.54µs
    at crates/ploke-tui/src/llm/session.rs:45 on ThreadId(10)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.913527Z  INFO ploke_tui::llm: close, time.busy: 2.22ms, time.idle: 1.73s
    at crates/ploke-tui/src/llm/mod.rs:611 on ThreadId(10)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.913587Z  INFO ploke_tui::llm: close, time.busy: 2.34ms, time.idle: 1.73s
    at crates/ploke-tui/src/llm/mod.rs:473 on ThreadId(10)
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.913699Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 7c796dd1-c6a4-4a07-b4be-16f52c5ae69f, content: "LLM request failed: An unknown error occurred: Tool call retries exhausted after 4 attempt(s)", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.913722Z  INFO ploke_tui::event_bus: close, time.busy: 23.2µs, time.idle: 3.41µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 7c796dd1-c6a4-4a07-b4be-16f52c5ae69f, content: "LLM request failed: An unknown error occurred: Tool call retries exhausted after 4 attempt(s)", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.913743Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 79.8µs, time.idle: 6.62µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(10)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 7c796dd1-c6a4-4a07-b4be-16f52c5ae69f, content: "LLM request failed: An unknown error occurred: Tool call retries exhausted after 4 attempt(s)", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.913757Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 115µs, time.idle: 4.62µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.913797Z  INFO ploke_tui::app_state::handlers::chat: Updating message fd2e7f6e-ab5a-412e-806a-670cd4aa86a5 status=Some(Completed) content_preview=Request failed: An unknown error occurred: Tool call retries exhausted after 4 attempt(s)
    at crates/ploke-tui/src/app_state/handlers/chat.rs:24 on ThreadId(10)
    in ploke_tui::app_state::handlers::chat::update_message with id: fd2e7f6e-ab5a-412e-806a-670cd4aa86a5, msg_id: fd2e7f6e-ab5a-412e-806a-670cd4aa86a5, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.913812Z  INFO ploke_tui::app_state::handlers::chat: Message updated successfully; dispatching MessageUpdatedEvent, msg_id: fd2e7f6e-ab5a-412e-806a-670cd4aa86a5, kind: Assistant, old_status: Generating, new_status: Completed
    at crates/ploke-tui/src/app_state/handlers/chat.rs:42 on ThreadId(10)
    in ploke_tui::app_state::handlers::chat::update_message with id: fd2e7f6e-ab5a-412e-806a-670cd4aa86a5, msg_id: fd2e7f6e-ab5a-412e-806a-670cd4aa86a5, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.913828Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::update_message with id: fd2e7f6e-ab5a-412e-806a-670cd4aa86a5, msg_id: fd2e7f6e-ab5a-412e-806a-670cd4aa86a5, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.913842Z  INFO ploke_tui::event_bus: close, time.busy: 13.2µs, time.idle: 2.98µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::update_message with id: fd2e7f6e-ab5a-412e-806a-670cd4aa86a5, msg_id: fd2e7f6e-ab5a-412e-806a-670cd4aa86a5, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.913862Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 65.1µs, time.idle: 5.76µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:17 on ThreadId(10)
    in ploke_tui::app_state::handlers::chat::update_message with id: fd2e7f6e-ab5a-412e-806a-670cd4aa86a5, msg_id: fd2e7f6e-ab5a-412e-806a-670cd4aa86a5, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.913876Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 92.4µs, time.idle: 2.98µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.913912Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 05e0f54b-c9f5-4e45-983c-f195ad6b9c96, content: "Request summary: error (An unknown error occurred: Tool call retries exhausted after 4 attempt(s))", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.913925Z  INFO ploke_tui::event_bus: close, time.busy: 12.5µs, time.idle: 2.94µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 05e0f54b-c9f5-4e45-983c-f195ad6b9c96, content: "Request summary: error (An unknown error occurred: Tool call retries exhausted after 4 attempt(s))", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.913943Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 40.2µs, time.idle: 4.46µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(10)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 05e0f54b-c9f5-4e45-983c-f195ad6b9c96, content: "Request summary: error (An unknown error occurred: Tool call retries exhausted after 4 attempt(s))", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.913956Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 63.6µs, time.idle: 2.98µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.914601Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(10)

  2025-09-03T16:27:21.915571Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(10)

  2025-09-03T16:27:21.916484Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(10)

  2025-09-03T16:27:21.989003Z  INFO ploke_tui::llm::session: close, time.busy: 1.90s, time.idle: 6.19µs
    at crates/ploke-tui/src/llm/session.rs:45 on ThreadId(6)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.989150Z DEBUG hyper_util::client::legacy::pool: pooling idle connection for ("https", openrouter.ai)
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/pool.rs:396 on ThreadId(6)

  2025-09-03T16:27:21.989238Z DEBUG ploke_tui::app::events: Test harness API response event received
    at crates/ploke-tui/src/app/events.rs:259 on ThreadId(6)

  2025-09-03T16:27:21.989537Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(6)

  2025-09-03T16:27:21.989959Z  INFO ploke_tui::llm: close, time.busy: 2.59ms, time.idle: 1.90s
    at crates/ploke-tui/src/llm/mod.rs:611 on ThreadId(6)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.989986Z  INFO ploke_tui::llm: LLM produced response for parent_id=1a0b843f-4683-40c8-91dc-06dc1887ffe2 -> assistant_message_id=9fffa137-76a5-45f0-a2b9-f45af1a9afc1. preview=Hello! I'd be happy to help you with your files. What specifically needs assistance? Please share the details or questions you have.
    at crates/ploke-tui/src/llm/mod.rs:558 on ThreadId(6)
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.990010Z  INFO ploke_tui::llm: close, time.busy: 2.72ms, time.idle: 1.90s
    at crates/ploke-tui/src/llm/mod.rs:473 on ThreadId(6)
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.990062Z  INFO ploke_tui::app_state::handlers::chat: Updating message 9fffa137-76a5-45f0-a2b9-f45af1a9afc1 status=Some(Completed) content_preview=Hello! I'd be happy to help you with your files. What specifically needs assistance? Please share th...
    at crates/ploke-tui/src/app_state/handlers/chat.rs:24 on ThreadId(6)
    in ploke_tui::app_state::handlers::chat::update_message with id: 9fffa137-76a5-45f0-a2b9-f45af1a9afc1, msg_id: 9fffa137-76a5-45f0-a2b9-f45af1a9afc1, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.990072Z  INFO ploke_tui::app_state::handlers::chat: Message updated successfully; dispatching MessageUpdatedEvent, msg_id: 9fffa137-76a5-45f0-a2b9-f45af1a9afc1, kind: Assistant, old_status: Generating, new_status: Completed
    at crates/ploke-tui/src/app_state/handlers/chat.rs:42 on ThreadId(6)
    in ploke_tui::app_state::handlers::chat::update_message with id: 9fffa137-76a5-45f0-a2b9-f45af1a9afc1, msg_id: 9fffa137-76a5-45f0-a2b9-f45af1a9afc1, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.990082Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::update_message with id: 9fffa137-76a5-45f0-a2b9-f45af1a9afc1, msg_id: 9fffa137-76a5-45f0-a2b9-f45af1a9afc1, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.990092Z  INFO ploke_tui::event_bus: close, time.busy: 10.1µs, time.idle: 1.75µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::update_message with id: 9fffa137-76a5-45f0-a2b9-f45af1a9afc1, msg_id: 9fffa137-76a5-45f0-a2b9-f45af1a9afc1, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.990104Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 44.9µs, time.idle: 3.49µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:17 on ThreadId(6)
    in ploke_tui::app_state::handlers::chat::update_message with id: 9fffa137-76a5-45f0-a2b9-f45af1a9afc1, msg_id: 9fffa137-76a5-45f0-a2b9-f45af1a9afc1, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.990111Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 62.1µs, time.idle: 2.42µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:27:21.990143Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 59c5aa68-f49e-4a81-a4b5-7331fcee8c2c, content: "Request summary: success", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.990151Z  INFO ploke_tui::event_bus: close, time.busy: 7.18µs, time.idle: 1.59µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 59c5aa68-f49e-4a81-a4b5-7331fcee8c2c, content: "Request summary: success", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.990160Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 32.0µs, time.idle: 3.21µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(6)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 59c5aa68-f49e-4a81-a4b5-7331fcee8c2c, content: "Request summary: success", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.990167Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 47.7µs, time.idle: 1.51µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:27:21.990558Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(6)

  2025-09-03T16:27:21.991265Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(6)

  2025-09-03T16:27:21.993333Z DEBUG hyper_util::client::legacy::pool: pooling idle connection for ("https", openrouter.ai)
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/pool.rs:396 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.993392Z DEBUG ploke_tui::app::events: Test harness API response event received
    at crates/ploke-tui/src/app/events.rs:259 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.993777Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.994178Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.994195Z  INFO ploke_tui::event_bus: close, time.busy: 15.7µs, time.idle: 4.97µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.994215Z DEBUG ploke_tui::llm::session: Awaiting tool result
    at crates/ploke-tui/src/llm/session.rs:446 on ThreadId(2)
    in ploke_tui::llm::session::await_tool_result with request_id: b0975803-a233-4a33-99fd-dfacf5079462, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.994244Z  INFO ploke_tui::llm: Dispatching ToolEvent::Requested in LLM manager, request_id: b0975803-a233-4a33-99fd-dfacf5079462, parent_id: 696bef47-2171-438d-a4df-1433f5cf20ac, call_id: "functions.get_file_metadata:0", tool: GetFileMetadata
    at crates/ploke-tui/src/llm/mod.rs:388 on ThreadId(2)
    in ploke_tui::llm::session::await_tool_result with request_id: b0975803-a233-4a33-99fd-dfacf5079462, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.994412Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::llm::session::await_tool_result with request_id: b0975803-a233-4a33-99fd-dfacf5079462, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:27:21.994428Z  INFO ploke_tui::event_bus: close, time.busy: 15.2µs, time.idle: 3.15µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::llm::session::await_tool_result with request_id: b0975803-a233-4a33-99fd-dfacf5079462, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:23.350348Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(13)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 3cff474a-d536-4bff-b4a2-afe771c57abf, content: "Check the size of Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.350698Z  INFO ploke_tui::event_bus: close, time.busy: 130µs, time.idle: 5.26µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(13)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 3cff474a-d536-4bff-b4a2-afe771c57abf, content: "Check the size of Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.350792Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 3cff474a-d536-4bff-b4a2-afe771c57abf,
                parent_id: 6079288c-3144-4f98-a62e-16bc2814a0ee
                message_id: 3cff474a-d536-4bff-b4a2-afe771c57abf,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(13)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 3cff474a-d536-4bff-b4a2-afe771c57abf, content: "Check the size of Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.350834Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(13)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 3cff474a-d536-4bff-b4a2-afe771c57abf, content: "Check the size of Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.350857Z  INFO ploke_tui::event_bus: close, time.busy: 20.4µs, time.idle: 7.63µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(13)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 3cff474a-d536-4bff-b4a2-afe771c57abf, content: "Check the size of Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.350878Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 587µs, time.idle: 7.79µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(13)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 3cff474a-d536-4bff-b4a2-afe771c57abf, content: "Check the size of Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.350900Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 657µs, time.idle: 21.6µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.351166Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.353349Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(8)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 76c0093d-e728-49b0-9c21-da2f23f4581a, content: "Please help me understand how to use tools in this system.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.353394Z  INFO ploke_tui::event_bus: close, time.busy: 45.1µs, time.idle: 3.25µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(8)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 76c0093d-e728-49b0-9c21-da2f23f4581a, content: "Please help me understand how to use tools in this system.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.353416Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 76c0093d-e728-49b0-9c21-da2f23f4581a,
                parent_id: 47418e84-58b8-4e94-8a29-8fa106a10c67
                message_id: 76c0093d-e728-49b0-9c21-da2f23f4581a,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(8)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 76c0093d-e728-49b0-9c21-da2f23f4581a, content: "Please help me understand how to use tools in this system.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.353427Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(8)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 76c0093d-e728-49b0-9c21-da2f23f4581a, content: "Please help me understand how to use tools in this system.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.353436Z  INFO ploke_tui::event_bus: close, time.busy: 8.50µs, time.idle: 2.20µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(8)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 76c0093d-e728-49b0-9c21-da2f23f4581a, content: "Please help me understand how to use tools in this system.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.353449Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 123µs, time.idle: 5.53µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(8)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 76c0093d-e728-49b0-9c21-da2f23f4581a, content: "Please help me understand how to use tools in this system.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.353461Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 156µs, time.idle: 11.5µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.353483Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.355146Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.356605Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.367554Z  INFO ploke_tui::llm: Received LLM request for parent_id: 3cff474a-d536-4bff-b4a2-afe771c57abf
new_msg_id: 3cff474a-d536-4bff-b4a2-afe771c57abf
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.368125Z  INFO ploke_tui::llm: Received LLM request for parent_id: 76c0093d-e728-49b0-9c21-da2f23f4581a
new_msg_id: 76c0093d-e728-49b0-9c21-da2f23f4581a
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.373361Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.373361Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.374428Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.374428Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.377394Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(4)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 05bc51f2-69cd-43d4-bb57-b6ec834ec3a6, content: "Please get the metadata for the file 'Cargo.toml' and tell me about it.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.377473Z  INFO ploke_tui::event_bus: close, time.busy: 83.3µs, time.idle: 3.99µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(4)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 05bc51f2-69cd-43d4-bb57-b6ec834ec3a6, content: "Please get the metadata for the file 'Cargo.toml' and tell me about it.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.377509Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 05bc51f2-69cd-43d4-bb57-b6ec834ec3a6,
                parent_id: 69124ccb-a9ca-49ae-a23a-5a3f32bd9183
                message_id: 05bc51f2-69cd-43d4-bb57-b6ec834ec3a6,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(4)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 05bc51f2-69cd-43d4-bb57-b6ec834ec3a6, content: "Please get the metadata for the file 'Cargo.toml' and tell me about it.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.377523Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(4)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 05bc51f2-69cd-43d4-bb57-b6ec834ec3a6, content: "Please get the metadata for the file 'Cargo.toml' and tell me about it.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.377530Z  INFO ploke_tui::event_bus: close, time.busy: 6.51µs, time.idle: 2.21µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(4)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 05bc51f2-69cd-43d4-bb57-b6ec834ec3a6, content: "Please get the metadata for the file 'Cargo.toml' and tell me about it.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.377539Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 186µs, time.idle: 6.12µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(4)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 05bc51f2-69cd-43d4-bb57-b6ec834ec3a6, content: "Please get the metadata for the file 'Cargo.toml' and tell me about it.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.377550Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 229µs, time.idle: 17.5µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.377572Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.379873Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.380057Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 26.6ms, time.idle: 11.0µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.381117Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.382247Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.382297Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 31.4ms, time.idle: 4.47µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.383148Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(13)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.383200Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(8)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.392665Z  INFO ploke_tui::llm: Received LLM request for parent_id: 05bc51f2-69cd-43d4-bb57-b6ec834ec3a6
new_msg_id: 05bc51f2-69cd-43d4-bb57-b6ec834ec3a6
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.396458Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.397700Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.419340Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.419484Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 41.9ms, time.idle: 5.01µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.420402Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(4)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.437537Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: abfa1d9a-6246-4221-a8a8-62d51faddfb6, content: "Hello, I need help with some files", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.437686Z  INFO ploke_tui::event_bus: close, time.busy: 153µs, time.idle: 6.10µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: abfa1d9a-6246-4221-a8a8-62d51faddfb6, content: "Hello, I need help with some files", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.437742Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): abfa1d9a-6246-4221-a8a8-62d51faddfb6,
                parent_id: 75fb3d20-6ada-434b-96a1-905ef822285d
                message_id: abfa1d9a-6246-4221-a8a8-62d51faddfb6,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(6)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: abfa1d9a-6246-4221-a8a8-62d51faddfb6, content: "Hello, I need help with some files", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.437782Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: abfa1d9a-6246-4221-a8a8-62d51faddfb6, content: "Hello, I need help with some files", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.437804Z  INFO ploke_tui::event_bus: close, time.busy: 19.9µs, time.idle: 8.48µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: abfa1d9a-6246-4221-a8a8-62d51faddfb6, content: "Hello, I need help with some files", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.437834Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 330µs, time.idle: 10.5µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(6)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: abfa1d9a-6246-4221-a8a8-62d51faddfb6, content: "Hello, I need help with some files", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.437851Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 380µs, time.idle: 18.0µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.437904Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.442847Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.443530Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(7)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: d1cfd037-8cd3-4169-b99b-1af1e479ce5c, content: "Get metadata for /nonexistent/file.txt", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.444276Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 51d86f52-1084-4d03-8aa8-186e0847d2bf, content: "Use the get_file_metadata tool to check the file 'Cargo.toml' in the current directory. I need to see the file size and tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.444335Z  INFO ploke_tui::event_bus: close, time.busy: 57.5µs, time.idle: 4.69µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 51d86f52-1084-4d03-8aa8-186e0847d2bf, content: "Use the get_file_metadata tool to check the file 'Cargo.toml' in the current directory. I need to see the file size and tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.443609Z  INFO ploke_tui::event_bus: close, time.busy: 79.9µs, time.idle: 4.79µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(7)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: d1cfd037-8cd3-4169-b99b-1af1e479ce5c, content: "Get metadata for /nonexistent/file.txt", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.444372Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 51d86f52-1084-4d03-8aa8-186e0847d2bf,
                parent_id: b390d162-cdf0-494b-af44-caba7a85de5c
                message_id: 51d86f52-1084-4d03-8aa8-186e0847d2bf,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(12)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 51d86f52-1084-4d03-8aa8-186e0847d2bf, content: "Use the get_file_metadata tool to check the file 'Cargo.toml' in the current directory. I need to see the file size and tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.444385Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): d1cfd037-8cd3-4169-b99b-1af1e479ce5c,
                parent_id: d82ec053-62e3-4521-abdc-b48eab7f7e7b
                message_id: d1cfd037-8cd3-4169-b99b-1af1e479ce5c,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(7)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: d1cfd037-8cd3-4169-b99b-1af1e479ce5c, content: "Get metadata for /nonexistent/file.txt", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.444392Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 51d86f52-1084-4d03-8aa8-186e0847d2bf, content: "Use the get_file_metadata tool to check the file 'Cargo.toml' in the current directory. I need to see the file size and tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.444397Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(7)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: d1cfd037-8cd3-4169-b99b-1af1e479ce5c, content: "Get metadata for /nonexistent/file.txt", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.444406Z  INFO ploke_tui::event_bus: close, time.busy: 13.8µs, time.idle: 3.38µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 51d86f52-1084-4d03-8aa8-186e0847d2bf, content: "Use the get_file_metadata tool to check the file 'Cargo.toml' in the current directory. I need to see the file size and tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.444409Z  INFO ploke_tui::event_bus: close, time.busy: 10.3µs, time.idle: 2.60µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(7)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: d1cfd037-8cd3-4169-b99b-1af1e479ce5c, content: "Get metadata for /nonexistent/file.txt", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.444425Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 929µs, time.idle: 6.48µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(7)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: d1cfd037-8cd3-4169-b99b-1af1e479ce5c, content: "Get metadata for /nonexistent/file.txt", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.444425Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 169µs, time.idle: 6.51µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(12)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 51d86f52-1084-4d03-8aa8-186e0847d2bf, content: "Use the get_file_metadata tool to check the file 'Cargo.toml' in the current directory. I need to see the file size and tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.444440Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 974µs, time.idle: 14.0µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.444440Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 207µs, time.idle: 8.88µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.444467Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.444467Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.448129Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.448223Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.448443Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(9)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: f522a688-a7d1-490f-a151-827fffbbcf01, content: "Get metadata for Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.448489Z  INFO ploke_tui::event_bus: close, time.busy: 45.5µs, time.idle: 4.01µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(9)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: f522a688-a7d1-490f-a151-827fffbbcf01, content: "Get metadata for Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.448549Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): f522a688-a7d1-490f-a151-827fffbbcf01,
                parent_id: 118b5848-1d36-423f-9543-0976c5028e3e
                message_id: f522a688-a7d1-490f-a151-827fffbbcf01,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(9)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: f522a688-a7d1-490f-a151-827fffbbcf01, content: "Get metadata for Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.448577Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(9)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: f522a688-a7d1-490f-a151-827fffbbcf01, content: "Get metadata for Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.448589Z  INFO ploke_tui::event_bus: close, time.busy: 12.2µs, time.idle: 3.24µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(9)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: f522a688-a7d1-490f-a151-827fffbbcf01, content: "Get metadata for Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.448603Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 184µs, time.idle: 6.61µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(9)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: f522a688-a7d1-490f-a151-827fffbbcf01, content: "Get metadata for Cargo.toml", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.448616Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 222µs, time.idle: 11.3µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.448638Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.449167Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(5)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 713454f1-2e4a-488b-8155-436becb5b069, content: "I'm working on a Rust project", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.449232Z  INFO ploke_tui::event_bus: close, time.busy: 64.8µs, time.idle: 3.32µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(5)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 713454f1-2e4a-488b-8155-436becb5b069, content: "I'm working on a Rust project", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.449253Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 713454f1-2e4a-488b-8155-436becb5b069,
                parent_id: 55dbf35a-5a78-43d6-8e8c-e85fa2ed460a
                message_id: 713454f1-2e4a-488b-8155-436becb5b069,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(5)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 713454f1-2e4a-488b-8155-436becb5b069, content: "I'm working on a Rust project", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.449265Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(5)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 713454f1-2e4a-488b-8155-436becb5b069, content: "I'm working on a Rust project", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.449275Z  INFO ploke_tui::event_bus: close, time.busy: 8.92µs, time.idle: 3.00µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(5)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 713454f1-2e4a-488b-8155-436becb5b069, content: "I'm working on a Rust project", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.449290Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 142µs, time.idle: 5.30µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(5)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 713454f1-2e4a-488b-8155-436becb5b069, content: "I'm working on a Rust project", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.449301Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 172µs, time.idle: 11.0µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.449322Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.451289Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 5a1c082e-4562-4c8b-a073-c8101e817976, content: "Please use the get_file_metadata tool to check if the file 'Cargo.toml' exists and show me its metadata including the tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.451319Z  INFO ploke_tui::event_bus: close, time.busy: 29.5µs, time.idle: 3.19µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 5a1c082e-4562-4c8b-a073-c8101e817976, content: "Please use the get_file_metadata tool to check if the file 'Cargo.toml' exists and show me its metadata including the tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.451337Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 5a1c082e-4562-4c8b-a073-c8101e817976,
                parent_id: 82d73254-e0fc-4930-b235-130f817d1e77
                message_id: 5a1c082e-4562-4c8b-a073-c8101e817976,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(2)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 5a1c082e-4562-4c8b-a073-c8101e817976, content: "Please use the get_file_metadata tool to check if the file 'Cargo.toml' exists and show me its metadata including the tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.451346Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 5a1c082e-4562-4c8b-a073-c8101e817976, content: "Please use the get_file_metadata tool to check if the file 'Cargo.toml' exists and show me its metadata including the tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.451355Z  INFO ploke_tui::event_bus: close, time.busy: 7.99µs, time.idle: 2.07µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 5a1c082e-4562-4c8b-a073-c8101e817976, content: "Please use the get_file_metadata tool to check if the file 'Cargo.toml' exists and show me its metadata including the tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.451367Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 91.4µs, time.idle: 4.33µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(2)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 5a1c082e-4562-4c8b-a073-c8101e817976, content: "Please use the get_file_metadata tool to check if the file 'Cargo.toml' exists and show me its metadata including the tracking hash.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.451376Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 115µs, time.idle: 6.43µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.451390Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.451388Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.451946Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.452393Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 759eea2a-00f7-403f-9ea0-a373d121729a, content: "Please get the metadata for the file 'Cargo.toml' using the get_file_metadata tool.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.452429Z  INFO ploke_tui::event_bus: close, time.busy: 36.2µs, time.idle: 3.26µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 759eea2a-00f7-403f-9ea0-a373d121729a, content: "Please get the metadata for the file 'Cargo.toml' using the get_file_metadata tool.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.452448Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 759eea2a-00f7-403f-9ea0-a373d121729a,
                parent_id: 4371322a-1c5c-417b-9131-0e1c5d4bd2a9
                message_id: 759eea2a-00f7-403f-9ea0-a373d121729a,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(10)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 759eea2a-00f7-403f-9ea0-a373d121729a, content: "Please get the metadata for the file 'Cargo.toml' using the get_file_metadata tool.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.452460Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 759eea2a-00f7-403f-9ea0-a373d121729a, content: "Please get the metadata for the file 'Cargo.toml' using the get_file_metadata tool.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.452471Z  INFO ploke_tui::event_bus: close, time.busy: 9.74µs, time.idle: 2.40µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 759eea2a-00f7-403f-9ea0-a373d121729a, content: "Please get the metadata for the file 'Cargo.toml' using the get_file_metadata tool.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.452485Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 106µs, time.idle: 4.31µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(10)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 759eea2a-00f7-403f-9ea0-a373d121729a, content: "Please get the metadata for the file 'Cargo.toml' using the get_file_metadata tool.", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.452496Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 131µs, time.idle: 6.01µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.452512Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.453293Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 3a837393-e0dc-4422-a876-8ea4de8590f1, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.453329Z  INFO ploke_tui::event_bus: close, time.busy: 35.6µs, time.idle: 3.27µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 3a837393-e0dc-4422-a876-8ea4de8590f1, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.453348Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 3a837393-e0dc-4422-a876-8ea4de8590f1,
                parent_id: 03b4d1f4-35ec-4117-95c3-444cc572d3d6
                message_id: 3a837393-e0dc-4422-a876-8ea4de8590f1,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(14)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 3a837393-e0dc-4422-a876-8ea4de8590f1, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.453358Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 3a837393-e0dc-4422-a876-8ea4de8590f1, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.453369Z  INFO ploke_tui::event_bus: close, time.busy: 9.46µs, time.idle: 2.20µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 3a837393-e0dc-4422-a876-8ea4de8590f1, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.453381Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 101µs, time.idle: 4.12µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(14)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 3a837393-e0dc-4422-a876-8ea4de8590f1, content: "Can you find any code snippets related to SimpleStruct in the codebase?", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.453392Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 125µs, time.idle: 5.92µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.453406Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.454190Z  INFO ploke_tui::llm: Received LLM request for parent_id: abfa1d9a-6246-4221-a8a8-62d51faddfb6
new_msg_id: abfa1d9a-6246-4221-a8a8-62d51faddfb6
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.454909Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.455780Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(3)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 89564695-1ca8-4d49-af5a-a0b836ad3862, content: "Test message", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.455814Z  INFO ploke_tui::event_bus: close, time.busy: 33.6µs, time.idle: 3.40µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(3)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 89564695-1ca8-4d49-af5a-a0b836ad3862, content: "Test message", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.455832Z  INFO ploke_tui::app_state::handlers::chat: sending llm_request wrapped in an AppEvent::Llm of kind user with ids 
                new_msg_id (not sent): 89564695-1ca8-4d49-af5a-a0b836ad3862,
                parent_id: c8b5811b-ef7c-41ec-9096-e36be13cacf0
                message_id: 89564695-1ca8-4d49-af5a-a0b836ad3862,
    at crates/ploke-tui/src/app_state/handlers/chat.rs:185 on ThreadId(3)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 89564695-1ca8-4d49-af5a-a0b836ad3862, content: "Test message", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.455842Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(3)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 89564695-1ca8-4d49-af5a-a0b836ad3862, content: "Test message", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.455852Z  INFO ploke_tui::event_bus: close, time.busy: 9.07µs, time.idle: 2.26µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(3)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 89564695-1ca8-4d49-af5a-a0b836ad3862, content: "Test message", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.455865Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 103µs, time.idle: 4.59µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(3)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 89564695-1ca8-4d49-af5a-a0b836ad3862, content: "Test message", kind: User
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.455877Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 127µs, time.idle: 5.73µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddUserMessage

  2025-09-03T16:55:23.455891Z  INFO ploke_tui::app_state::database: scan_for_change in crate_name: fixture_nodes
    at crates/ploke-tui/src/app_state/database.rs:276 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.455982Z  INFO ploke_tui::llm: Received LLM request for parent_id: d1cfd037-8cd3-4169-b99b-1af1e479ce5c
new_msg_id: d1cfd037-8cd3-4169-b99b-1af1e479ce5c
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.456936Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.458766Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.458974Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.459114Z  INFO ploke_tui::llm: Received LLM request for parent_id: 51d86f52-1084-4d03-8aa8-186e0847d2bf
new_msg_id: 51d86f52-1084-4d03-8aa8-186e0847d2bf
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.459407Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.459811Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.459853Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.461781Z  INFO ploke_tui::llm: Received LLM request for parent_id: f522a688-a7d1-490f-a151-827fffbbcf01
new_msg_id: f522a688-a7d1-490f-a151-827fffbbcf01
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.462224Z  INFO ploke_tui::app_state::database: file_data: [
    FileData {
        id: d68bf001-e754-500d-b14d-68bbd08c720b,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            dd256356-df42-54dd-b057-14c920fd4d37,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/lib.rs",
    },
    FileData {
        id: b2a32910-7045-5247-a240-db2af6b54485,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            ac93e2c5-1ab4-5ff6-93f5-bbf673647324,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/imports.rs",
    },
    FileData {
        id: b6de9492-7bdb-535f-9eab-4be8213ffaa7,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c9e5b5bf-d784-5773-822c-19d291dadb15,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/enums.rs",
    },
    FileData {
        id: 98cf843e-a79d-53ad-b63e-edbb06f55dbf,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            4203f6af-f226-5586-8770-4bd1fd1aca0d,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs",
    },
    FileData {
        id: 06da6227-0818-5518-a993-a6f5f97a8767,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            40ea1595-d05d-5820-b4b1-cb665f5a1f46,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/unions.rs",
    },
    FileData {
        id: 78d3361f-0a2b-55d1-a35e-1ae57b02bf06,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            8764de16-cce8-5344-a268-d86abe5598d9,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/const_static.rs",
    },
    FileData {
        id: 24c3c750-21b0-5633-905c-b67b10176426,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            b1835274-d0e4-5951-891a-5071e4680f02,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/traits.rs",
    },
    FileData {
        id: 2bc98b2f-8ac7-5650-ae38-c9b24c179319,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            c663eeb6-e897-5ec9-9013-6f3d244de65b,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/impls.rs",
    },
    FileData {
        id: 94817678-df0e-59fa-8a65-8a7f6a0267a0,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            f1eac66e-d822-57a0-8774-390cd4b049a3,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/type_alias.rs",
    },
    FileData {
        id: 29940c0b-7fe9-5ea0-83c3-4a4bc1b7ee4a,
        namespace: bfc25988-15c1-5e58-9aa8-3d33b5e58b92,
        file_tracking_hash: TrackingHash(
            7e370317-0e37-5bcb-a7ac-3bc37e2f2e22,
        ),
        file_path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/macros.rs",
    },
]
    at crates/ploke-tui/src/app_state/database.rs:279 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.462781Z  INFO ploke_tui::llm: Received LLM request for parent_id: 713454f1-2e4a-488b-8155-436becb5b069
new_msg_id: 713454f1-2e4a-488b-8155-436becb5b069
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.463876Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.464263Z  INFO ploke_tui::llm: Received LLM request for parent_id: 759eea2a-00f7-403f-9ea0-a373d121729a
new_msg_id: 759eea2a-00f7-403f-9ea0-a373d121729a
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.464535Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.465082Z  INFO ploke_tui::llm: Received LLM request for parent_id: 5a1c082e-4562-4c8b-a073-c8101e817976
new_msg_id: 5a1c082e-4562-4c8b-a073-c8101e817976
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.466632Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.467438Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.467858Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.468456Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.468541Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.469332Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.470505Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.471237Z  INFO ploke_tui::llm: Received LLM request for parent_id: 3a837393-e0dc-4422-a876-8ea4de8590f1
new_msg_id: 3a837393-e0dc-4422-a876-8ea4de8590f1
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.471475Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.471851Z  INFO ploke_tui::llm: Received LLM request for parent_id: 89564695-1ca8-4d49-af5a-a0b836ad3862
new_msg_id: 89564695-1ca8-4d49-af5a-a0b836ad3862
    at crates/ploke-tui/src/llm/mod.rs:306 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.472844Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(11)
    in ploke_tui::event_bus::send

  2025-09-03T16:55:23.472878Z  INFO ploke_tui::event_bus: close, time.busy: 34.3µs, time.idle: 8.59µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(11)
    in ploke_tui::event_bus::send

  2025-09-03T16:55:23.475194Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.475648Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.475762Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.476312Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.477482Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.477523Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 33.1ms, time.idle: 3.95µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.478062Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(7)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 38, top_k: 15
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.480957Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.481011Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 28.5ms, time.idle: 3.77µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.481505Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.481534Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 37.1ms, time.idle: 3.55µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.481599Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(10)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.480917Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.481797Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 30.4ms, time.idle: 3.33µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.482033Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(12)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.482494Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.483097Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.483146Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 45.3ms, time.idle: 7.11µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.483426Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(6)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.485904Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(11)

  2025-09-03T16:55:23.486466Z  WARN ploke_tui::app::events: Unused system event in main app loop: ToolCallCompleted { request_id: 64281d99-f75d-45fc-84cf-95955ea39245, parent_id: 3a798e90-9638-4b03-9edc-498bbc9bc2a2, call_id: "{\"file_path\": \"/test/file.rs\"}", content: "get_file_metadata" }
    at crates/ploke-tui/src/app/events.rs:262 on ThreadId(11)

  2025-09-03T16:55:23.486616Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(11)

  2025-09-03T16:55:23.492148Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.492186Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 42.9ms, time.idle: 3.48µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.492528Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(5)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.494349Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.494381Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 41.0ms, time.idle: 2.77µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.494759Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(14)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.495269Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.495307Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 39.4ms, time.idle: 3.32µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.495569Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(3)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 12, top_k: 15
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.497216Z  INFO ploke_tui::app_state::database: No file changes detected
    at crates/ploke-tui/src/app_state/database.rs:292 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.497250Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 48.6ms, time.idle: 2.85µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: ScanForChange

  2025-09-03T16:55:23.497500Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(9)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.523867Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(11)
    in ploke_tui::event_bus::send

  2025-09-03T16:55:23.523902Z  INFO ploke_tui::event_bus: close, time.busy: 35.3µs, time.idle: 6.31µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(11)
    in ploke_tui::event_bus::send

  2025-09-03T16:55:23.870920Z DEBUG ploke_embed::local: shapes: outputs=[1, 14, 384], weights=[1, 14, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(8)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.871828Z DEBUG ploke_embed::local: shapes: outputs=[1, 14, 384], weights=[1, 14, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(8)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.871874Z DEBUG ploke_embed::local: close, time.busy: 490ms, time.idle: 10.1µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(8)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.896960Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(13)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.897474Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(13)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.897508Z DEBUG ploke_embed::local: close, time.busy: 515ms, time.idle: 3.59µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(13)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.904886Z DEBUG ploke_embed::local: shapes: outputs=[1, 4, 384], weights=[1, 4, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(3)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 12, top_k: 15
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.905198Z DEBUG ploke_embed::local: shapes: outputs=[1, 4, 384], weights=[1, 4, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(3)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 12, top_k: 15
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.905233Z DEBUG ploke_embed::local: close, time.busy: 410ms, time.idle: 3.79µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(3)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 12, top_k: 15
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.981704Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(6)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.982334Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(6)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:23.982373Z DEBUG ploke_embed::local: close, time.busy: 499ms, time.idle: 3.24µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(6)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.050955Z DEBUG ploke_embed::local: shapes: outputs=[1, 24, 384], weights=[1, 24, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(10)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.052063Z DEBUG ploke_embed::local: shapes: outputs=[1, 24, 384], weights=[1, 24, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(10)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.052120Z DEBUG ploke_embed::local: close, time.busy: 571ms, time.idle: 3.54µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(10)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.069835Z DEBUG ploke_embed::local: shapes: outputs=[1, 9, 384], weights=[1, 9, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(9)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.070415Z DEBUG ploke_embed::local: shapes: outputs=[1, 9, 384], weights=[1, 9, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(9)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.070449Z DEBUG ploke_embed::local: close, time.busy: 573ms, time.idle: 2.91µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(9)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.087788Z DEBUG ploke_embed::local: shapes: outputs=[1, 21, 384], weights=[1, 21, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(4)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.088945Z DEBUG ploke_embed::local: shapes: outputs=[1, 21, 384], weights=[1, 21, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(4)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.088979Z DEBUG ploke_embed::local: close, time.busy: 669ms, time.idle: 3.02µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(4)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.130589Z DEBUG ploke_embed::local: shapes: outputs=[1, 15, 384], weights=[1, 15, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(7)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 38, top_k: 15
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.131376Z DEBUG ploke_embed::local: shapes: outputs=[1, 15, 384], weights=[1, 15, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(7)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 38, top_k: 15
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.131421Z DEBUG ploke_embed::local: close, time.busy: 654ms, time.idle: 3.60µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(7)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 38, top_k: 15
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.132679Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(5)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.133357Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(5)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.133398Z DEBUG ploke_embed::local: close, time.busy: 641ms, time.idle: 3.34µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(5)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.135242Z DEBUG ploke_embed::local: shapes: outputs=[1, 21, 384], weights=[1, 21, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(14)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.136319Z DEBUG ploke_embed::local: shapes: outputs=[1, 21, 384], weights=[1, 21, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(14)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.136365Z DEBUG ploke_embed::local: close, time.busy: 642ms, time.idle: 3.17µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(14)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.145135Z DEBUG ploke_embed::local: shapes: outputs=[1, 33, 384], weights=[1, 33, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.146623Z DEBUG ploke_embed::local: shapes: outputs=[1, 33, 384], weights=[1, 33, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.146682Z DEBUG ploke_embed::local: close, time.busy: 665ms, time.idle: 3.60µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.227894Z DEBUG ploke_embed::local: shapes: outputs=[1, 36, 384], weights=[1, 36, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(12)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.229902Z DEBUG ploke_embed::local: shapes: outputs=[1, 36, 384], weights=[1, 36, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(12)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.229946Z DEBUG ploke_embed::local: close, time.busy: 748ms, time.idle: 3.63µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(12)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.313143Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(8)
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.313199Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(8)
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.313217Z  INFO ploke_rag::core: close, time.busy: 932ms, time.idle: 17.9µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(8)
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.313294Z  INFO ploke_rag::core: close, time.busy: 392µs, time.idle: 932ms
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(8)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.313386Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(8)
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.364697Z  INFO ploke_rag::core: close, time.busy: 22.3µs, time.idle: 18.5µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(8)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.364812Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(8)
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.405131Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(3)
    in ploke_rag::core::search with query_len: 12, top_k: 15
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.405186Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(3)
    in ploke_rag::core::search with query_len: 12, top_k: 15
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.405208Z  INFO ploke_rag::core: close, time.busy: 910ms, time.idle: 6.78µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(3)
    in ploke_rag::core::search with query_len: 12, top_k: 15
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.405259Z  INFO ploke_rag::core: close, time.busy: 24.5µs, time.idle: 910ms
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(3)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 12, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.405326Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(3)
    in ploke_rag::core::search_bm25 with query_len: 12, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.405383Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(3)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.405405Z  INFO ploke_tui::event_bus: close, time.busy: 22.0µs, time.idle: 3.62µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(3)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.405519Z  INFO ploke_rag::core: close, time.busy: 84.8µs, time.idle: 910ms
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(3)
    in ploke_rag::core::search_bm25 with query_len: 12, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.405533Z  INFO ploke_rag::core: close, time.busy: 910ms, time.idle: 227µs
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(3)
    in ploke_rag::core::get_context with query_len: 12, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.405548Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 910ms, time.idle: 4.19µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(3)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.411825Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(9)
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.411879Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(9)
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.411900Z  INFO ploke_rag::core: close, time.busy: 915ms, time.idle: 6.11µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(9)
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.411950Z  INFO ploke_rag::core: close, time.busy: 22.5µs, time.idle: 915ms
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(9)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.412014Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(9)
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.415323Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(6)
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.415369Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(6)
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.415562Z  INFO ploke_rag::core: close, time.busy: 932ms, time.idle: 5.44µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(6)
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.415606Z  INFO ploke_rag::core: close, time.busy: 19.5µs, time.idle: 932ms
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(6)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.415663Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(6)
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.427197Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(4)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.427250Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(4)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.427271Z  INFO ploke_rag::core: close, time.busy: 1.01s, time.idle: 8.55µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(4)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.427324Z  INFO ploke_rag::core: close, time.busy: 61.8µs, time.idle: 1.01s
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(4)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.427396Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(4)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.427436Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(4)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.427448Z  INFO ploke_tui::event_bus: close, time.busy: 11.7µs, time.idle: 2.42µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(4)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.428022Z  INFO ploke_rag::core: close, time.busy: 126µs, time.idle: 1.01s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(4)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.428033Z  INFO ploke_rag::core: close, time.busy: 1.01s, time.idle: 679µs
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(4)
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.428042Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 1.01s, time.idle: 7.78µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(4)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.463174Z  INFO ploke_rag::core: close, time.busy: 18.6µs, time.idle: 16.3µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(9)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.463238Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(9)
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.466334Z  INFO ploke_rag::core: close, time.busy: 22.2µs, time.idle: 21.1µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(8)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.466435Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(8)
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.466840Z  INFO ploke_rag::core: close, time.busy: 21.8µs, time.idle: 20.7µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(6)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.466924Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(6)
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.466950Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(8)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.471738Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(2)
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.471788Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(2)
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.471810Z  INFO ploke_rag::core: close, time.busy: 990ms, time.idle: 6.32µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(2)
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.471860Z  INFO ploke_rag::core: close, time.busy: 24.6µs, time.idle: 990ms
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(2)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.471958Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(2)
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.472930Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(13)
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.472970Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(13)
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.472987Z  INFO ploke_rag::core: close, time.busy: 1.09s, time.idle: 6.77µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(13)
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.473026Z  INFO ploke_rag::core: close, time.busy: 38.7µs, time.idle: 1.09s
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(13)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.473080Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(13)
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.493088Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(10)
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.493132Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(10)
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.493152Z  INFO ploke_rag::core: close, time.busy: 1.01s, time.idle: 6.16µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(10)
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.493194Z  INFO ploke_rag::core: close, time.busy: 25.5µs, time.idle: 1.01s
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(10)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.493262Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(10)
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.495123Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(14)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.495176Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(14)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.495197Z  INFO ploke_rag::core: close, time.busy: 1.00s, time.idle: 6.04µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(14)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.495246Z  INFO ploke_rag::core: close, time.busy: 27.2µs, time.idle: 1.00s
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(14)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.495330Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(14)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.523170Z  INFO ploke_rag::core: close, time.busy: 17.7µs, time.idle: 15.6µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(2)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.523254Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(2)
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.524228Z  INFO ploke_rag::core: close, time.busy: 17.7µs, time.idle: 15.8µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(13)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.524300Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(13)
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.528224Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(5)
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.528263Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(5)
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.528279Z  INFO ploke_rag::core: close, time.busy: 1.04s, time.idle: 5.35µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(5)
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.528319Z  INFO ploke_rag::core: close, time.busy: 23.6µs, time.idle: 1.04s
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(5)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.528375Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(5)
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.534650Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(7)
    in ploke_rag::core::search with query_len: 38, top_k: 15
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.534689Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(7)
    in ploke_rag::core::search with query_len: 38, top_k: 15
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.534706Z  INFO ploke_rag::core: close, time.busy: 1.06s, time.idle: 5.52µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(7)
    in ploke_rag::core::search with query_len: 38, top_k: 15
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.534746Z  INFO ploke_rag::core: close, time.busy: 25.6µs, time.idle: 1.06s
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(7)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 38, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.534806Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(7)
    in ploke_rag::core::search_bm25 with query_len: 38, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.534845Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(7)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.534856Z  INFO ploke_tui::event_bus: close, time.busy: 11.6µs, time.idle: 2.21µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(7)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.534875Z  WARN ploke_tui::app::events: Unused system event in main app loop: ToolCallCompleted { request_id: 43a6873e-e13f-400e-bece-3a0a51535414, parent_id: 16f422f8-1312-4a0d-91fe-2e5cd6368f36, call_id: "{\"error\": \"File not found\"}", content: "get_file_metadata" }
    at crates/ploke-tui/src/app/events.rs:262 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.535086Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.544464Z  INFO ploke_rag::core: close, time.busy: 16.5µs, time.idle: 15.0µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(10)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.544534Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(10)
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.546630Z  INFO ploke_rag::core: close, time.busy: 38.1µs, time.idle: 38.6µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(14)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.546809Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(14)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.564471Z  INFO ploke_rag::core: close, time.busy: 18.2µs, time.idle: 16.2µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(9)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.564535Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(9)
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.564792Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(9)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.568177Z  INFO ploke_rag::core: close, time.busy: 21.0µs, time.idle: 20.5µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(6)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.568260Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(6)
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.568564Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(6)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.579587Z  INFO ploke_rag::core: close, time.busy: 21.2µs, time.idle: 20.2µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(5)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.579666Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(5)
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.585572Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(7)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.585601Z  INFO ploke_tui::event_bus: close, time.busy: 30.2µs, time.idle: 4.93µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(7)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.585690Z  INFO ploke_rag::core: close, time.busy: 13.9µs, time.idle: 50.4µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(7)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 38, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.585740Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(7)
    in ploke_rag::core::search_bm25 with query_len: 38, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.585778Z  INFO ploke_rag::core: close, time.busy: 121µs, time.idle: 1.11s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(7)
    in ploke_rag::core::search_bm25 with query_len: 38, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.585790Z  INFO ploke_rag::core: close, time.busy: 1.06s, time.idle: 51.0ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(7)
    in ploke_rag::core::get_context with query_len: 38, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.585802Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 1.11s, time.idle: 4.50µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(7)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.587178Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(12)
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.587229Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(12)
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.587252Z  INFO ploke_rag::core: close, time.busy: 1.11s, time.idle: 7.18µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(12)
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.587294Z  INFO ploke_rag::core: close, time.busy: 20.3µs, time.idle: 1.11s
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(12)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.587376Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 1, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 50
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(12)
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.624496Z  INFO ploke_rag::core: close, time.busy: 20.2µs, time.idle: 16.6µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(2)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.624580Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(2)
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.625227Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.627735Z  INFO ploke_rag::core: close, time.busy: 18.0µs, time.idle: 16.3µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(13)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.627815Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(13)
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.628051Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(13)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.638588Z  INFO ploke_rag::core: close, time.busy: 18.3µs, time.idle: 16.0µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(12)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.638682Z DEBUG ploke_rag::core: BM25 empty; retrying after backoff, attempts: 2, bm25_results: 0, bm25_status: Some(Uninitialized), backoff_ms: 100
    at crates/ploke-rag/src/core/mod.rs:303 on ThreadId(12)
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.644278Z DEBUG ploke_embed::local: shapes: outputs=[1, 14, 384], weights=[1, 14, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(8)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.645084Z DEBUG ploke_embed::local: shapes: outputs=[1, 14, 384], weights=[1, 14, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(8)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.645116Z DEBUG ploke_embed::local: close, time.busy: 179ms, time.idle: 3.51µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(8)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.646552Z  INFO ploke_rag::core: close, time.busy: 17.9µs, time.idle: 16.4µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(10)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.646648Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(10)
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.647119Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(10)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.651866Z  INFO ploke_rag::core: close, time.busy: 22.2µs, time.idle: 21.1µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(14)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.651962Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(14)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.652281Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(14)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.680635Z  INFO ploke_rag::core: close, time.busy: 21.0µs, time.idle: 21.3µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(5)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.680715Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(5)
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.680996Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(5)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.739727Z  INFO ploke_rag::core: close, time.busy: 22.8µs, time.idle: 22.0µs
    at crates/ploke-rag/src/core/mod.rs:342 on ThreadId(12)
    in ploke_rag::core::bm25_status with timeout_ms: 250
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.739851Z DEBUG ploke_rag::core: BM25 not ready/empty; falling back to dense search, bm25_results: 0, bm25_status: Some(Uninitialized), attempts: 3, fallback_used: true
    at crates/ploke-rag/src/core/mod.rs:312 on ThreadId(12)
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.740527Z  INFO ploke_embed::local: Processing outputs with self.model.forward
    at crates/ingest/ploke-embed/src/local/mod.rs:411 on ThreadId(12)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.817432Z DEBUG ploke_embed::local: shapes: outputs=[1, 9, 384], weights=[1, 9, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(9)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.819671Z DEBUG ploke_embed::local: shapes: outputs=[1, 9, 384], weights=[1, 9, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(9)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.819722Z DEBUG ploke_embed::local: close, time.busy: 255ms, time.idle: 3.39µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(9)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.858542Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(6)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.859200Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(6)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.859450Z DEBUG ploke_embed::local: close, time.busy: 291ms, time.idle: 3.92µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(6)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.953122Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(13)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.953796Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(13)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:24.953858Z DEBUG ploke_embed::local: close, time.busy: 326ms, time.idle: 3.61µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(13)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.059727Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(5)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.060124Z DEBUG ploke_embed::local: shapes: outputs=[1, 10, 384], weights=[1, 10, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(5)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.060155Z DEBUG ploke_embed::local: close, time.busy: 379ms, time.idle: 3.61µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(5)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.110111Z DEBUG ploke_embed::local: shapes: outputs=[1, 21, 384], weights=[1, 21, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(14)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.110425Z DEBUG ploke_embed::local: shapes: outputs=[1, 24, 384], weights=[1, 24, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(10)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.111209Z DEBUG ploke_embed::local: shapes: outputs=[1, 24, 384], weights=[1, 24, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(10)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.111247Z DEBUG ploke_embed::local: close, time.busy: 465ms, time.idle: 3.66µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(10)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.111280Z DEBUG ploke_embed::local: shapes: outputs=[1, 21, 384], weights=[1, 21, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(14)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.111323Z DEBUG ploke_embed::local: close, time.busy: 459ms, time.idle: 3.62µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(14)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.187568Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(8)
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.187615Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(8)
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.187634Z  INFO ploke_rag::core: close, time.busy: 721ms, time.idle: 7.86µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(8)
    in ploke_rag::core::search with query_len: 58, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.187656Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(8)
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.187667Z  INFO ploke_rag::core: close, time.busy: 722ms, time.idle: 1.09s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(8)
    in ploke_rag::core::search_bm25 with query_len: 58, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.191637Z DEBUG ploke_embed::local: shapes: outputs=[1, 33, 384], weights=[1, 33, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.192778Z DEBUG ploke_embed::local: shapes: outputs=[1, 33, 384], weights=[1, 33, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.192809Z DEBUG ploke_embed::local: close, time.busy: 568ms, time.idle: 3.43µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(2)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.249304Z  INFO ploke_rag::context: close, time.busy: 54.6ms, time.idle: 6.98ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(8)
    in ploke_rag::context::assemble_context with query_len: 58, hits: 15
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.249344Z  INFO ploke_rag::core: close, time.busy: 1.71s, time.idle: 160ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(8)
    in ploke_rag::core::get_context with query_len: 58, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.249360Z  INFO ploke_tui::rag::context: constructing context (RAG) with 15 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.249375Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.249396Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(8)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.249410Z  INFO ploke_tui::event_bus: close, time.busy: 15.1µs, time.idle: 2.22µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(8)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.249422Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 1.87s, time.idle: 16.3µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.249446Z  INFO ploke_tui::llm: Received context for parent_id: 76c0093d-e728-49b0-9c21-da2f23f4581a
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(8)

  2025-09-03T16:55:25.249460Z  INFO ploke_tui::llm: pending_requests found match for req_parent: 76c0093d-e728-49b0-9c21-da2f23f4581a
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(8)

  2025-09-03T16:55:25.249465Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: 76c0093d-e728-49b0-9c21-da2f23f4581a
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(8)

  2025-09-03T16:55:25.249478Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(8)

  2025-09-03T16:55:25.249521Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(8)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.249527Z  INFO ploke_tui::event_bus: close, time.busy: 6.46µs, time.idle: 1.37µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(8)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.249534Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 25.9µs, time.idle: 1.29µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(8)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.249559Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(8)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.249585Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: None, require_tool_support: false
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(8)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.249636Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: false
	tool_names: 
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(8)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.251710Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(8)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.251828Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: false, messages: 18
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(8)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.251970Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: false, tools: 
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(8)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.252198Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(8)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.252720Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(8)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.258190Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(9)
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.258234Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(9)
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.258252Z  INFO ploke_rag::core: close, time.busy: 694ms, time.idle: 5.59µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(9)
    in ploke_rag::core::search with query_len: 27, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.258265Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(9)
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.258275Z  INFO ploke_rag::core: close, time.busy: 694ms, time.idle: 1.07s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(9)
    in ploke_rag::core::search_bm25 with query_len: 27, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.264555Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(6)
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.264611Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(6)
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.264635Z  INFO ploke_rag::core: close, time.busy: 696ms, time.idle: 6.94µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(6)
    in ploke_rag::core::search with query_len: 34, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.264653Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(6)
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.264668Z  INFO ploke_rag::core: close, time.busy: 697ms, time.idle: 1.08s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(6)
    in ploke_rag::core::search_bm25 with query_len: 34, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.282357Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 29.9ms, time.idle: 80.4µs
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(130)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.282461Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(8)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.303486Z  INFO ploke_rag::context: close, time.busy: 34.1ms, time.idle: 4.71ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(6)
    in ploke_rag::context::assemble_context with query_len: 34, hits: 15
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.303518Z  INFO ploke_rag::core: close, time.busy: 1.66s, time.idle: 157ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(6)
    in ploke_rag::core::get_context with query_len: 34, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.303526Z  INFO ploke_tui::rag::context: constructing context (RAG) with 15 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.303538Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.303555Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.303565Z  INFO ploke_tui::event_bus: close, time.busy: 10.3µs, time.idle: 2.01µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.303575Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 1.82s, time.idle: 3.40µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.303591Z  INFO ploke_tui::llm: Received context for parent_id: abfa1d9a-6246-4221-a8a8-62d51faddfb6
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(6)

  2025-09-03T16:55:25.303602Z  INFO ploke_tui::llm: pending_requests found match for req_parent: abfa1d9a-6246-4221-a8a8-62d51faddfb6
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(6)

  2025-09-03T16:55:25.303606Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: abfa1d9a-6246-4221-a8a8-62d51faddfb6
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(6)

  2025-09-03T16:55:25.303616Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(6)

  2025-09-03T16:55:25.303650Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.303656Z  INFO ploke_tui::event_bus: close, time.busy: 5.97µs, time.idle: 1.42µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(6)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.303662Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 22.4µs, time.idle: 1.30µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(6)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.303677Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(6)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.303694Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: None, require_tool_support: false
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(6)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.303700Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: false
	tool_names: 
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(6)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.303738Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(6)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.303749Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: false, messages: 18
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(6)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.303756Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: false, tools: 
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(6)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.303910Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(6)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.304208Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(6)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.318007Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(8)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.333662Z DEBUG ploke_rag::context: Skipping snippet for 40771e15-c371-5307-8074-2ae7de4f00c6 due to IO error: Fatal(FileOperation { operation: "read", path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs", source: Custom { kind: InvalidInput, error: "Byte range 398-484 exceeds file length 481" } })
    at crates/ploke-rag/src/context/mod.rs:217 on ThreadId(9)
    in ploke_rag::context::assemble_context with query_len: 27, hits: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.333749Z  INFO ploke_rag::context: close, time.busy: 69.4ms, time.idle: 6.05ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(9)
    in ploke_rag::context::assemble_context with query_len: 27, hits: 15
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.333776Z  INFO ploke_rag::core: close, time.busy: 1.68s, time.idle: 158ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(9)
    in ploke_rag::core::get_context with query_len: 27, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.333787Z  INFO ploke_tui::rag::context: constructing context (RAG) with 14 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.333800Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.333822Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(9)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.333837Z  INFO ploke_tui::event_bus: close, time.busy: 15.1µs, time.idle: 2.90µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(9)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.333852Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 1.84s, time.idle: 3.45µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.333874Z  INFO ploke_tui::llm: Received context for parent_id: f522a688-a7d1-490f-a151-827fffbbcf01
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(9)

  2025-09-03T16:55:25.333887Z  INFO ploke_tui::llm: pending_requests found match for req_parent: f522a688-a7d1-490f-a151-827fffbbcf01
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(9)

  2025-09-03T16:55:25.333893Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: f522a688-a7d1-490f-a151-827fffbbcf01
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(9)

  2025-09-03T16:55:25.333905Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(9)

  2025-09-03T16:55:25.333950Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(9)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.333963Z  INFO ploke_tui::event_bus: close, time.busy: 13.0µs, time.idle: 2.28µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(9)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.333973Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 35.8µs, time.idle: 2.12µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(9)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.333993Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(9)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.334013Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: None, require_tool_support: false
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(9)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.334025Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: false
	tool_names: 
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(9)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.334069Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(9)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.334088Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: false, messages: 17
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(9)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.334099Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: false, tools: 
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(9)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.334277Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(9)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.334621Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(9)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.341433Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 37.4ms, time.idle: 66.8µs
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(131)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.341817Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.3.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(6)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.352657Z DEBUG ploke_embed::local: shapes: outputs=[1, 36, 384], weights=[1, 36, 384], sum_embeddings=[1, 1, 384]
    at crates/ingest/ploke-embed/src/local/mod.rs:428 on ThreadId(12)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.353783Z DEBUG ploke_embed::local: shapes: outputs=[1, 36, 384], weights=[1, 36, 384], norms=[1, 1, 1]
    at crates/ingest/ploke-embed/src/local/mod.rs:444 on ThreadId(12)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.353828Z DEBUG ploke_embed::local: close, time.busy: 614ms, time.idle: 3.38µs
    at crates/ingest/ploke-embed/src/local/mod.rs:380 on ThreadId(12)
    in ploke_embed::local::process_batch
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.370639Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.3.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(6)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.370777Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(5)
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.370830Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(5)
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.370855Z  INFO ploke_rag::core: close, time.busy: 690ms, time.idle: 6.51µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(5)
    in ploke_rag::core::search with query_len: 29, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.370871Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(5)
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.370885Z  INFO ploke_rag::core: close, time.busy: 690ms, time.idle: 1.19s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(5)
    in ploke_rag::core::search_bm25 with query_len: 29, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.371401Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 37.0ms, time.idle: 67.0µs
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(132)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.371404Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(13)
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.371441Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(13)
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.371457Z  INFO ploke_rag::core: close, time.busy: 744ms, time.idle: 5.75µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(13)
    in ploke_rag::core::search with query_len: 28, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.371471Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(13)
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.371480Z  INFO ploke_rag::core: close, time.busy: 744ms, time.idle: 1.25s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(13)
    in ploke_rag::core::search_bm25 with query_len: 28, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.371473Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(9)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.392785Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(9)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.410585Z  INFO ploke_rag::context: close, time.busy: 34.9ms, time.idle: 4.21ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(13)
    in ploke_rag::context::assemble_context with query_len: 28, hits: 15
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.410614Z  INFO ploke_rag::core: close, time.busy: 1.87s, time.idle: 159ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(13)
    in ploke_rag::core::get_context with query_len: 28, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.410622Z  INFO ploke_tui::rag::context: constructing context (RAG) with 15 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.410632Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.410650Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(13)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.410661Z  INFO ploke_tui::event_bus: close, time.busy: 10.9µs, time.idle: 1.96µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(13)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.410671Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 2.03s, time.idle: 4.02µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.410688Z  INFO ploke_tui::llm: Received context for parent_id: 3cff474a-d536-4bff-b4a2-afe771c57abf
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(13)

  2025-09-03T16:55:25.410698Z  INFO ploke_tui::llm: pending_requests found match for req_parent: 3cff474a-d536-4bff-b4a2-afe771c57abf
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(13)

  2025-09-03T16:55:25.410703Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: 3cff474a-d536-4bff-b4a2-afe771c57abf
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(13)

  2025-09-03T16:55:25.410712Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(13)

  2025-09-03T16:55:25.410744Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(13)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.410752Z  INFO ploke_tui::event_bus: close, time.busy: 7.02µs, time.idle: 1.41µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(13)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.410758Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 24.0µs, time.idle: 1.33µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(13)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.410778Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(13)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.410793Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: None, require_tool_support: false
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(13)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.410800Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: false
	tool_names: 
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(13)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.410834Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(13)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.410846Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: false, messages: 18
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(13)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.410853Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: false, tools: 
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(13)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.410978Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(13)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.411208Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(13)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.432330Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(10)
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.432381Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(10)
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.432404Z  INFO ploke_rag::core: close, time.busy: 786ms, time.idle: 6.59µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(10)
    in ploke_rag::core::search with query_len: 83, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.432421Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(10)
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.432436Z  INFO ploke_rag::core: close, time.busy: 786ms, time.idle: 1.17s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(10)
    in ploke_rag::core::search_bm25 with query_len: 83, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.437551Z DEBUG ploke_rag::context: Skipping snippet for 40771e15-c371-5307-8074-2ae7de4f00c6 due to IO error: Fatal(FileOperation { operation: "read", path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs", source: Custom { kind: InvalidInput, error: "Byte range 398-484 exceeds file length 481" } })
    at crates/ploke-rag/src/context/mod.rs:217 on ThreadId(5)
    in ploke_rag::context::assemble_context with query_len: 29, hits: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.437629Z  INFO ploke_rag::context: close, time.busy: 61.8ms, time.idle: 4.92ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(5)
    in ploke_rag::context::assemble_context with query_len: 29, hits: 15
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.437652Z  INFO ploke_rag::core: close, time.busy: 1.79s, time.idle: 157ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(5)
    in ploke_rag::core::get_context with query_len: 29, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.437663Z  INFO ploke_tui::rag::context: constructing context (RAG) with 14 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.437674Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.437699Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(5)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.437714Z  INFO ploke_tui::event_bus: close, time.busy: 14.9µs, time.idle: 2.96µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(5)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.437730Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 1.95s, time.idle: 4.06µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.437750Z  INFO ploke_tui::llm: Received context for parent_id: 713454f1-2e4a-488b-8155-436becb5b069
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(5)

  2025-09-03T16:55:25.437767Z  INFO ploke_tui::llm: pending_requests found match for req_parent: 713454f1-2e4a-488b-8155-436becb5b069
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(5)

  2025-09-03T16:55:25.437797Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: 713454f1-2e4a-488b-8155-436becb5b069
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(5)

  2025-09-03T16:55:25.437814Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(5)

  2025-09-03T16:55:25.437872Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(5)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.437886Z  INFO ploke_tui::event_bus: close, time.busy: 12.2µs, time.idle: 2.19µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(5)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.437897Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 35.8µs, time.idle: 1.46µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(5)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.437914Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(5)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.437930Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: None, require_tool_support: false
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(5)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.437937Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: false
	tool_names: 
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(5)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.437970Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(5)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.437981Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: false, messages: 17
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(5)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.437988Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: false, tools: 
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(5)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.438108Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(5)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.438338Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(5)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.445850Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 34.8ms, time.idle: 53.1µs
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(134)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.445937Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(13)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.452129Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(14)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.452182Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(14)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.452204Z  INFO ploke_rag::core: close, time.busy: 800ms, time.idle: 6.30µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(14)
    in ploke_rag::core::search with query_len: 71, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.452221Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(14)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.452235Z  INFO ploke_rag::core: close, time.busy: 801ms, time.idle: 1.16s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(14)
    in ploke_rag::core::search_bm25 with query_len: 71, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.466207Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(13)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.473218Z DEBUG ploke_rag::context: Skipping snippet for 40771e15-c371-5307-8074-2ae7de4f00c6 due to IO error: Fatal(FileOperation { operation: "read", path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs", source: Custom { kind: InvalidInput, error: "Byte range 398-484 exceeds file length 481" } })
    at crates/ploke-rag/src/context/mod.rs:217 on ThreadId(10)
    in ploke_rag::context::assemble_context with query_len: 83, hits: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.473324Z  INFO ploke_rag::context: close, time.busy: 36.7ms, time.idle: 4.13ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(10)
    in ploke_rag::context::assemble_context with query_len: 83, hits: 15
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.473361Z  INFO ploke_rag::core: close, time.busy: 1.83s, time.idle: 157ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(10)
    in ploke_rag::core::get_context with query_len: 83, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.473383Z  INFO ploke_tui::rag::context: constructing context (RAG) with 14 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.473407Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.473431Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.473447Z  INFO ploke_tui::event_bus: close, time.busy: 15.6µs, time.idle: 3.66µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.473462Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 1.99s, time.idle: 4.40µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.473481Z  INFO ploke_tui::llm: Received context for parent_id: 759eea2a-00f7-403f-9ea0-a373d121729a
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(10)

  2025-09-03T16:55:25.473494Z  INFO ploke_tui::llm: pending_requests found match for req_parent: 759eea2a-00f7-403f-9ea0-a373d121729a
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(10)

  2025-09-03T16:55:25.473498Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: 759eea2a-00f7-403f-9ea0-a373d121729a
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(10)

  2025-09-03T16:55:25.473507Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(10)

  2025-09-03T16:55:25.473540Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.473549Z  INFO ploke_tui::event_bus: close, time.busy: 8.06µs, time.idle: 1.56µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(10)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.473556Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 24.9µs, time.idle: 1.28µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(10)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.473571Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(10)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.473589Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: Some(true), require_tool_support: false
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(10)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.473633Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: true
	tool_names: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(10)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.473663Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(10)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.473680Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: true, messages: 17
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(10)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.473688Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: true, tools: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(10)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.473867Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(10)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.474259Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(10)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.478316Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 40.1ms, time.idle: 57.7µs
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(135)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.478395Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.3.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(5)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.490597Z DEBUG ploke_rag::context: Skipping snippet for 40771e15-c371-5307-8074-2ae7de4f00c6 due to IO error: Fatal(FileOperation { operation: "read", path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs", source: Custom { kind: InvalidInput, error: "Byte range 398-484 exceeds file length 481" } })
    at crates/ploke-rag/src/context/mod.rs:217 on ThreadId(14)
    in ploke_rag::context::assemble_context with query_len: 71, hits: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.490658Z  INFO ploke_rag::context: close, time.busy: 33.2ms, time.idle: 5.22ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(14)
    in ploke_rag::context::assemble_context with query_len: 71, hits: 15
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.490673Z  INFO ploke_rag::core: close, time.busy: 1.83s, time.idle: 162ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(14)
    in ploke_rag::core::get_context with query_len: 71, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.490680Z  INFO ploke_tui::rag::context: constructing context (RAG) with 14 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.490688Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.490701Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.490712Z  INFO ploke_tui::event_bus: close, time.busy: 10.5µs, time.idle: 1.96µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.490721Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 2.00s, time.idle: 3.28µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.490736Z  INFO ploke_tui::llm: Received context for parent_id: 3a837393-e0dc-4422-a876-8ea4de8590f1
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(14)

  2025-09-03T16:55:25.490745Z  INFO ploke_tui::llm: pending_requests found match for req_parent: 3a837393-e0dc-4422-a876-8ea4de8590f1
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(14)

  2025-09-03T16:55:25.490749Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: 3a837393-e0dc-4422-a876-8ea4de8590f1
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(14)

  2025-09-03T16:55:25.490757Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(14)

  2025-09-03T16:55:25.490792Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.490800Z  INFO ploke_tui::event_bus: close, time.busy: 6.95µs, time.idle: 1.38µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(14)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.490806Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 22.5µs, time.idle: 1.31µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(14)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.490820Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(14)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.490836Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: Some(true), require_tool_support: false
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(14)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.490855Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: true
	tool_names: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(14)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.490885Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(14)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.490902Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: true, messages: 17
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(14)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.490910Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: true, tools: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(14)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.491042Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(14)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.491364Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(14)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.492209Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(2)
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.492255Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(2)
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.492276Z  INFO ploke_rag::core: close, time.busy: 868ms, time.idle: 6.46µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(2)
    in ploke_rag::core::search with query_len: 132, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.492292Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(2)
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.492306Z  INFO ploke_rag::core: close, time.busy: 868ms, time.idle: 1.14s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(2)
    in ploke_rag::core::search_bm25 with query_len: 132, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.512281Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 38.3ms, time.idle: 52.6µs
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(138)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.512363Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(10)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.530030Z DEBUG ploke_rag::context: Skipping snippet for 40771e15-c371-5307-8074-2ae7de4f00c6 due to IO error: Fatal(FileOperation { operation: "read", path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs", source: Custom { kind: InvalidInput, error: "Byte range 398-484 exceeds file length 481" } })
    at crates/ploke-rag/src/context/mod.rs:217 on ThreadId(2)
    in ploke_rag::context::assemble_context with query_len: 132, hits: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.530089Z  INFO ploke_rag::context: close, time.busy: 33.5ms, time.idle: 4.23ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(2)
    in ploke_rag::context::assemble_context with query_len: 132, hits: 15
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.530105Z  INFO ploke_rag::core: close, time.busy: 1.89s, time.idle: 157ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(2)
    in ploke_rag::core::get_context with query_len: 132, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.530112Z  INFO ploke_tui::rag::context: constructing context (RAG) with 14 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.530121Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.530141Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.530151Z  INFO ploke_tui::event_bus: close, time.busy: 10.7µs, time.idle: 1.97µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.530161Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 2.05s, time.idle: 3.75µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.530176Z  INFO ploke_tui::llm: Received context for parent_id: 5a1c082e-4562-4c8b-a073-c8101e817976
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(2)

  2025-09-03T16:55:25.530186Z  INFO ploke_tui::llm: pending_requests found match for req_parent: 5a1c082e-4562-4c8b-a073-c8101e817976
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(2)

  2025-09-03T16:55:25.530190Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: 5a1c082e-4562-4c8b-a073-c8101e817976
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(2)

  2025-09-03T16:55:25.530198Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(2)

  2025-09-03T16:55:25.530227Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.530236Z  INFO ploke_tui::event_bus: close, time.busy: 8.39µs, time.idle: 1.41µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.530242Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 23.4µs, time.idle: 1.31µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(2)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.530256Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(2)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.530272Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: Some(true), require_tool_support: true
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(2)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.530289Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: true
	tool_names: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(2)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.530319Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.530335Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: true, messages: 17
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.530343Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: true, tools: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.530475Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.530577Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(10)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.530846Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.532602Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 41.5ms, time.idle: 61.1µs
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(140)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.532682Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(14)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.562542Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(14)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.565850Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 35.3ms, time.idle: 50.7µs
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(141)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.565863Z DEBUG ploke_rag::core: Dense search collected 82 results across 10 node types
    at crates/ploke-rag/src/core/mod.rs:537 on ThreadId(12)
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.565901Z DEBUG ploke_rag::core: Dense search returning 15 results
    at crates/ploke-rag/src/core/mod.rs:547 on ThreadId(12)
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.565918Z  INFO ploke_rag::core: close, time.busy: 826ms, time.idle: 5.59µs
    at crates/ploke-rag/src/core/mod.rs:486 on ThreadId(12)
    in ploke_rag::core::search with query_len: 134, top_k: 15
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.565930Z DEBUG ploke_rag::core: Dense fallback complete, dense_results: 15
    at crates/ploke-rag/src/core/mod.rs:321 on ThreadId(12)
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.565929Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.3.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(2)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.565940Z  INFO ploke_rag::core: close, time.busy: 826ms, time.idle: 1.26s
    at crates/ploke-rag/src/core/mod.rs:231 on ThreadId(12)
    in ploke_rag::core::search_bm25 with query_len: 134, top_k: 15, strict: false, timeout_ms: 250
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.581283Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.3.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(2)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.600988Z DEBUG ploke_rag::context: Skipping snippet for 40771e15-c371-5307-8074-2ae7de4f00c6 due to IO error: Fatal(FileOperation { operation: "read", path: "/home/brasides/code/openai-codex/ploke/tests/fixture_crates/fixture_nodes/src/structs.rs", source: Custom { kind: InvalidInput, error: "Byte range 398-484 exceeds file length 481" } })
    at crates/ploke-rag/src/context/mod.rs:217 on ThreadId(12)
    in ploke_rag::context::assemble_context with query_len: 134, hits: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.601097Z  INFO ploke_rag::context: close, time.busy: 29.1ms, time.idle: 6.01ms
    at crates/ploke-rag/src/context/mod.rs:153 on ThreadId(12)
    in ploke_rag::context::assemble_context with query_len: 134, hits: 15
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.601126Z  INFO ploke_rag::core: close, time.busy: 1.96s, time.idle: 158ms
    at crates/ploke-rag/src/core/mod.rs:553 on ThreadId(12)
    in ploke_rag::core::get_context with query_len: 134, top_k: 15
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.601139Z  INFO ploke_tui::rag::context: constructing context (RAG) with 14 parts and 2 messages
    at crates/ploke-tui/src/rag/context.rs:118 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.601153Z DEBUG ploke_tui::rag::context: m.content.is_empty() = false
    at crates/ploke-tui/src/rag/context.rs:137 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.601186Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.601206Z  INFO ploke_tui::event_bus: close, time.busy: 19.6µs, time.idle: 3.86µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.601223Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 2.12s, time.idle: 3.91µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: EmbedMessage

  2025-09-03T16:55:25.601246Z  INFO ploke_tui::llm: Received context for parent_id: 51d86f52-1084-4d03-8aa8-186e0847d2bf
    at crates/ploke-tui/src/llm/mod.rs:317 on ThreadId(12)

  2025-09-03T16:55:25.601256Z  INFO ploke_tui::llm: pending_requests found match for req_parent: 51d86f52-1084-4d03-8aa8-186e0847d2bf
    at crates/ploke-tui/src/llm/mod.rs:340 on ThreadId(12)

  2025-09-03T16:55:25.601260Z  INFO ploke_tui::llm: ready_contexts found match for req_parent: 51d86f52-1084-4d03-8aa8-186e0847d2bf
    at crates/ploke-tui/src/llm/mod.rs:345 on ThreadId(12)

  2025-09-03T16:55:25.601268Z  INFO ploke_tui::llm: removing id from pending_requests
    at crates/ploke-tui/src/llm/mod.rs:363 on ThreadId(12)

  2025-09-03T16:55:25.601297Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.601304Z  INFO ploke_tui::event_bus: close, time.busy: 6.41µs, time.idle: 1.34µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.601310Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 20.2µs, time.idle: 1.23µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: CreateAssistantMessage

  2025-09-03T16:55:25.601323Z  INFO ploke_tui::llm: prepare_and_run_llm_call start, model: moonshotai/kimi-k2, has_context: true
    at crates/ploke-tui/src/llm/mod.rs:624 on ThreadId(12)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.601339Z DEBUG ploke_tui::llm: llm_request_plan, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, provider_type: OpenRouter, provider_slug: None, supports_tools_cache: Some(true), require_tool_support: true
    at crates/ploke-tui/src/llm/mod.rs:700 on ThreadId(12)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.601358Z DEBUG ploke_tui::llm: llm_request_tools:
	use_tools: true
	tool_names: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/mod.rs:742 on ThreadId(12)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.601388Z DEBUG ploke_tui::llm::session: Starting RequestSession::run, self.params: LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) }
    at crates/ploke-tui/src/llm/session.rs:47 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.601404Z DEBUG ploke_tui::llm::session: build_comp_req, model: moonshotai/kimi-k2, use_tools: true, messages: 17
    at crates/ploke-tui/src/llm/session.rs:365 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.601412Z DEBUG ploke_tui::llm::session: dispatch_request, model: moonshotai/kimi-k2, base_url: https://openrouter.ai/api/v1, full_url: https://openrouter.ai/api/v1/chat/completions, provider_slug: None, use_tools: true, tools: request_code_context,apply_code_edit,get_file_metadata
    at crates/ploke-tui/src/llm/session.rs:87 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.601548Z DEBUG reqwest::connect: starting new connection: https://openrouter.ai/
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.15/src/connect.rs:625 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.601907Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.637813Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.3.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(5)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.640902Z DEBUG hyper_util::client::legacy::connect::dns: close, time.busy: 39.3ms, time.idle: 72.5µs
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/dns.rs:121 on ThreadId(145)
    in hyper_util::client::legacy::connect::dns::resolve with host: openrouter.ai
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.641016Z DEBUG hyper_util::client::legacy::connect::http: connecting to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:657 on ThreadId(12)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:25.670317Z DEBUG hyper_util::client::legacy::connect::http: connected to 104.18.2.115:443
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/connect/http.rs:660 on ThreadId(12)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:26.992861Z DEBUG hyper_util::client::legacy::pool: pooling idle connection for ("https", openrouter.ai)
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/pool.rs:396 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:26.992973Z DEBUG ploke_tui::app::events: Test harness API response event received
    at crates/ploke-tui/src/app/events.rs:259 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:26.993460Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:26.993879Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:26.993899Z  INFO ploke_tui::event_bus: close, time.busy: 18.3µs, time.idle: 6.43µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:26.993934Z DEBUG ploke_tui::llm::session: Awaiting tool result
    at crates/ploke-tui/src/llm/session.rs:446 on ThreadId(12)
    in ploke_tui::llm::session::await_tool_result with request_id: 0e0cb5f4-87f4-45b1-b9f1-1f974974613e, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:26.993968Z  INFO ploke_tui::llm: Dispatching ToolEvent::Requested in LLM manager, request_id: 0e0cb5f4-87f4-45b1-b9f1-1f974974613e, parent_id: 51d86f52-1084-4d03-8aa8-186e0847d2bf, call_id: "functions.get_file_metadata:0", tool: GetFileMetadata
    at crates/ploke-tui/src/llm/mod.rs:388 on ThreadId(12)
    in ploke_tui::llm::session::await_tool_result with request_id: 0e0cb5f4-87f4-45b1-b9f1-1f974974613e, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:26.994206Z  WARN ploke_tui::app::events: Unused system event in main app loop: ToolCallCompleted { request_id: 0e0cb5f4-87f4-45b1-b9f1-1f974974613e, parent_id: 51d86f52-1084-4d03-8aa8-186e0847d2bf, call_id: "functions.get_file_metadata:0", content: "{\"ok\":true,\"file_path\":\"Cargo.toml\",\"exists\":true,\"byte_len\":2315,\"modified_ms\":1756879048526,\"file_hash\":\"9a41bf9f-0790-5e5c-abb8-403dfe4901cd\",\"tracking_hash\":\"9a41bf9f-0790-5e5c-abb8-403dfe4901cd\"}" }
    at crates/ploke-tui/src/app/events.rs:262 on ThreadId(12)
    in ploke_tui::llm::session::await_tool_result with request_id: 0e0cb5f4-87f4-45b1-b9f1-1f974974613e, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:26.994566Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(12)
    in ploke_tui::llm::session::await_tool_result with request_id: 0e0cb5f4-87f4-45b1-b9f1-1f974974613e, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:26.994951Z  INFO ploke_tui::llm::session: close, time.busy: 1.02ms, time.idle: 2.76µs
    at crates/ploke-tui/src/llm/session.rs:444 on ThreadId(12)
    in ploke_tui::llm::session::await_tool_result with request_id: 0e0cb5f4-87f4-45b1-b9f1-1f974974613e, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:26.995096Z  INFO ploke_tui::llm::session: close, time.busy: 1.39s, time.idle: 1.80µs
    at crates/ploke-tui/src/llm/session.rs:45 on ThreadId(12)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:26.995336Z  INFO ploke_tui::llm: close, time.busy: 4.48ms, time.idle: 1.39s
    at crates/ploke-tui/src/llm/mod.rs:611 on ThreadId(12)
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:26.995366Z  INFO ploke_tui::llm: close, time.busy: 4.56ms, time.idle: 1.39s
    at crates/ploke-tui/src/llm/mod.rs:473 on ThreadId(12)
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:26.995430Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: c13518a1-79b5-44d1-a4a6-27d1a5680574, content: "LLM request failed: An unknown error occurred: Tool call retries exhausted after 4 attempt(s)", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:55:26.995442Z  INFO ploke_tui::event_bus: close, time.busy: 12.4µs, time.idle: 1.72µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: c13518a1-79b5-44d1-a4a6-27d1a5680574, content: "LLM request failed: An unknown error occurred: Tool call retries exhausted after 4 attempt(s)", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:55:26.995452Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 45.0µs, time.idle: 3.46µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(12)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: c13518a1-79b5-44d1-a4a6-27d1a5680574, content: "LLM request failed: An unknown error occurred: Tool call retries exhausted after 4 attempt(s)", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:55:26.995460Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 64.6µs, time.idle: 2.28µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:55:26.995482Z  INFO ploke_tui::app_state::handlers::chat: Updating message b6ec8e40-52dd-43f6-95dd-7bb1396aa960 status=Some(Completed) content_preview=Request failed: An unknown error occurred: Tool call retries exhausted after 4 attempt(s)
    at crates/ploke-tui/src/app_state/handlers/chat.rs:24 on ThreadId(12)
    in ploke_tui::app_state::handlers::chat::update_message with id: b6ec8e40-52dd-43f6-95dd-7bb1396aa960, msg_id: b6ec8e40-52dd-43f6-95dd-7bb1396aa960, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:55:26.995491Z  INFO ploke_tui::app_state::handlers::chat: Message updated successfully; dispatching MessageUpdatedEvent, msg_id: b6ec8e40-52dd-43f6-95dd-7bb1396aa960, kind: Assistant, old_status: Generating, new_status: Completed
    at crates/ploke-tui/src/app_state/handlers/chat.rs:42 on ThreadId(12)
    in ploke_tui::app_state::handlers::chat::update_message with id: b6ec8e40-52dd-43f6-95dd-7bb1396aa960, msg_id: b6ec8e40-52dd-43f6-95dd-7bb1396aa960, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:55:26.995499Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::update_message with id: b6ec8e40-52dd-43f6-95dd-7bb1396aa960, msg_id: b6ec8e40-52dd-43f6-95dd-7bb1396aa960, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:55:26.995507Z  INFO ploke_tui::event_bus: close, time.busy: 7.43µs, time.idle: 1.62µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::update_message with id: b6ec8e40-52dd-43f6-95dd-7bb1396aa960, msg_id: b6ec8e40-52dd-43f6-95dd-7bb1396aa960, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:55:26.995517Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 36.8µs, time.idle: 3.23µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:17 on ThreadId(12)
    in ploke_tui::app_state::handlers::chat::update_message with id: b6ec8e40-52dd-43f6-95dd-7bb1396aa960, msg_id: b6ec8e40-52dd-43f6-95dd-7bb1396aa960, new_status: Some(Completed)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:55:26.995525Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 56.7µs, time.idle: 1.53µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: UpdateMessage

  2025-09-03T16:55:26.995542Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 124e1859-2682-45bf-bae2-1ff0a00decee, content: "Request summary: error (An unknown error occurred: Tool call retries exhausted after 4 attempt(s))", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:55:26.995549Z  INFO ploke_tui::event_bus: close, time.busy: 6.46µs, time.idle: 1.53µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(12)
    in ploke_tui::event_bus::send
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 124e1859-2682-45bf-bae2-1ff0a00decee, content: "Request summary: error (An unknown error occurred: Tool call retries exhausted after 4 attempt(s))", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:55:26.995557Z  INFO ploke_tui::app_state::handlers::chat: close, time.busy: 20.5µs, time.idle: 2.25µs
    at crates/ploke-tui/src/app_state/handlers/chat.rs:146 on ThreadId(12)
    in ploke_tui::app_state::handlers::chat::add_msg_immediate with event_bus: EventBus { realtime_tx: broadcast::Sender, background_tx: broadcast::Sender, error_tx: broadcast::Sender, index_tx: broadcast::Sender }, new_msg_id: 124e1859-2682-45bf-bae2-1ff0a00decee, content: "Request summary: error (An unknown error occurred: Tool call retries exhausted after 4 attempt(s))", kind: SysInfo
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:55:26.995566Z DEBUG ploke_tui::app_state::dispatcher: close, time.busy: 33.7µs, time.idle: 1.51µs
    at crates/ploke-tui/src/app_state/dispatcher.rs:34 on ThreadId(12)
    in ploke_tui::app_state::dispatcher::processing with cmd: AddMessageImmediate

  2025-09-03T16:55:26.996253Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(12)

  2025-09-03T16:55:26.997263Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(12)

  2025-09-03T16:55:26.998243Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(12)

  2025-09-03T16:55:27.460739Z DEBUG hyper_util::client::legacy::pool: pooling idle connection for ("https", openrouter.ai)
    at /home/brasides/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.10/src/client/legacy/pool.rs:396 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:27.460875Z DEBUG ploke_tui::app::events: Test harness API response event received
    at crates/ploke-tui/src/app/events.rs:259 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:27.461354Z DEBUG ploke_tui::app: display_model: kimi-k2
    at /home/brasides/code/openai-codex/ploke/crates/ploke-tui/src/app/mod.rs:509 on ThreadId(2)
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:27.461759Z DEBUG ploke_tui::event_bus: event_priority: Background
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:27.461782Z  INFO ploke_tui::event_bus: close, time.busy: 21.7µs, time.idle: 6.07µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:27.461809Z DEBUG ploke_tui::llm::session: Awaiting tool result
    at crates/ploke-tui/src/llm/session.rs:446 on ThreadId(2)
    in ploke_tui::llm::session::await_tool_result with request_id: 1ea503af-e5e4-419a-8e9d-adc8c03295e7, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:27.461840Z  INFO ploke_tui::llm: Dispatching ToolEvent::Requested in LLM manager, request_id: 1ea503af-e5e4-419a-8e9d-adc8c03295e7, parent_id: 5a1c082e-4562-4c8b-a073-c8101e817976, call_id: "functions.get_file_metadata:0", tool: GetFileMetadata
    at crates/ploke-tui/src/llm/mod.rs:388 on ThreadId(2)
    in ploke_tui::llm::session::await_tool_result with request_id: 1ea503af-e5e4-419a-8e9d-adc8c03295e7, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:27.462020Z DEBUG ploke_tui::event_bus: event_priority: Realtime
    at crates/ploke-tui/src/event_bus/mod.rs:198 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::llm::session::await_tool_result with request_id: 1ea503af-e5e4-419a-8e9d-adc8c03295e7, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

  2025-09-03T16:55:27.462037Z  INFO ploke_tui::event_bus: close, time.busy: 15.5µs, time.idle: 2.94µs
    at crates/ploke-tui/src/event_bus/mod.rs:195 on ThreadId(2)
    in ploke_tui::event_bus::send
    in ploke_tui::llm::session::await_tool_result with request_id: 1ea503af-e5e4-419a-8e9d-adc8c03295e7, call_id: "functions.get_file_metadata:0"
    in ploke_tui::llm::session::request_session_run with model: moonshotai/kimi-k2
    in ploke_tui::llm::prepare_and_run_llm_call with provider_params: Some(LLMParameters { model: "moonshotai/kimi-k2", temperature: None, top_p: None, max_tokens: None, presence_penalty: None, frequency_penalty: None, stop_sequences: [], parallel_tool_calls: true, response_format: Text, safety_settings: SafetySettings { hate: 0, harassment: 0, self_harm: 0, sexual_content: 0 }, system_prompt: None, tool_max_retries: Some(2), tool_token_limit: Some(2048), history_char_budget: Some(12000), tool_timeout_secs: Some(30) })
    in ploke_tui::llm::process_llm_request with model: moonshotai/kimi-k2

