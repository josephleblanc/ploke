Impl Log: Tool↔DB Canonical Resolver Diagnostics and Fix

Plan: docs/plans/agentic-system-plan/impl-plan/plan_20250830-064828Z.md
Supporting: crates/ploke-tui/docs/feature/agent-system/plans/tool-e2e.md

Summary
- Re-ran helper-vs-id test per Phase 1 and observed failure for nested static `crate::const_static::inner_mod::INNER_MUT_STATIC`.
- Implemented relaxed resolver and enhanced diagnostics in `ploke-db/src/helpers.rs` test to log candidates.
- Identified root cause: strict helper joined `file_mod` on the targeted module id, which fails for nested modules without direct `file_mod` ownership.
- Implemented `file_owner_for_module` rule (self-or-ancestor with `file_mod`) in both strict and relaxed helpers.
- Re-ran tests: helper test now passes for sampled nodes including nested static.
- Updated docs: canonical resolution notes and tool↔DB contract to reflect fix and helper shapes.

Artifacts
- Test log: crates/ploke-db/tests/ai_temp_data/test-output.txt
- Evidence updated in: docs/design/queries/canonical_resolution_notes.md

Commands Run (local)
- cargo test -p ploke-db test_resolve_nodes_by_canon_in_file_via_paths_from_id -- --nocapture

Next
- Phase 2: finalize contract invariants and error semantics (0/1/>1) and wire strict→fallback orchestration in tool layer. [DONE]
- Phase 3: add unit tests for relaxed resolver and path normalization gating. [DONE]
- Phase 4: integrate strict→fallback in `ploke-tui` tool path and fix canon parsing (avoid duplicate leading `crate`). [DONE]
- Phase 5: run offline E2E harness tests. [PARTIAL] Verified `e2e_apply_code_edit_canonical_on_fixture` passes.

Timestamp: 2025-08-31T21:45:00Z