# UI Theme wiring notes (colors)

This doc tracks how colors are centralized and where to extend them.

## Relevant files
- `crates/ploke-tui/src/ui_theme.rs` (theme struct + defaults)
- `crates/ploke-tui/src/lib.rs` (module export)
- `crates/ploke-tui/src/app/mod.rs` (App owns `UiTheme` and passes it into views)
- `crates/ploke-tui/src/app/view/components/input_box.rs` (uses theme for input colors)

## How to add a new color field
- Add a semantic field on `UiTheme` (avoid per-widget names if possible).
- Update `impl Default for UiTheme` with a sane baseline value.
- Thread the theme reference into any view component that needs the color.
- Replace hard-coded colors in render paths with theme fields.

## Wiring it into config (later)
- Add theme fields to the user config model and load defaults for missing fields.
- In `App::new`, construct `UiTheme` from config (or keep `UiTheme::default()` if absent).
- If theme can change at runtime, introduce an `AppEvent` to update `App.theme` and trigger redraw.

## Concurrency notes
- Rendering should not acquire long-lived locks; avoid reading config via `RwLock` inside render.
- If theme updates are dynamic, send an event from the state manager and update `App.theme` on the UI thread.
- Keep `UiTheme` as a cheap, cloneable value (no interior mutability) to avoid cross-thread mutation.
