# General todos 2025-12-15

## UI: Integrate new remote embedding capabilities

- [ ] Add overlay for embedding model selection
  - [x] basic overlay functionality
    - [x] searches embedding models returned from openrouter
    - [x] lists the output in the overlay
    - [x] command keys `j` and `k` are down/up
    - [x] quit overlay with `q`
    - [x] list wraps around top/bottom
    - [x] list item highlighted
    - [x] title shows number of results returned
    - [x] help display toggles with `?`
    - [ ] items expand/collapse upon `l`/`h` and right/left arrow with more details at different levels of verbosity
      - [ ] initial expansion includes price, context window, truncated description
      - [ ] full expansion includes all fields available
  - [ ] ensure the `db.active_embedding_set` is assigned the selected value
  - [ ] provide some kind of feedback upon an embedding model being chosen
- [ ] add UI integration with database (both confirming expected behavior and expected functionality)
  - [ ] confirm that after an embedding model is chosen:
    - [ ] when the embedding pipeline runs, it successfully uses the new model
    - [ ] after embedding with the new model, search works correctly with dense vector search
    - [ ] the database can be saved
    - [ ] database can be reloaded
  - [ ] upon loading a model, there is a message in the UI that tells us which embedding model is chosen
  - [ ] add command to list embedding models that already have vectors saved in the database
    - there may already be a method for this in `ploke-db::multi_embedding`, if not:
    - [ ] ensure command exists to list embedding models present in database,
    perhaps with number of embeddings processed/unprocessed/total, and states
    provenance (remote/local) if we already have database entries with this
    information
    - [ ] ensure command exists to switch embedding models if more than one is present
      - [ ] help message appears when this fails and reiterates available embeddings in database

