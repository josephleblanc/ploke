# general todo

1. When a code edit is proposed, rather than showing the before/after full code
   blocks as we are now for the entire file, we should instead just show the
   +/- code items with some (perhaps 2 lines) of surrounding context. 
   - started 2025-12-28 gemini on branch `feature/better-diffs`

2. update conversation tool calls: currently we read the tool call results with an audience-aware rendering process. However, we do not update the proposed code item status, such that three undesirable states arise. 
  - The first is that the "buttons" below the proposals (the `[ Yes ]` and `[
  No ]`) remain visible and highlighted even after the changes. We would
  instead like these buttons to disappear after the change has been applied.
  - The second is that the content of the tool call message itself stays the
  same, despite the code edit having been applied (`staged: 1` and `applied:
  0`). Instead we should update the contents of the tool call as it appears in
  the chat message such that it has the updated state of the proposal
  (applied/pending/error)
  - The third is that upon hitting `Enter` on the selected approve/deny buttons
  for yes/no, the conversation appears to lose any items underneath it.
  Instead, when we approve or deny a code edit proposal, we should keep the
  focus on the currently selected tool call message in the conversation history
  and not destroy its children.
  - started 2025-12-28 gpt-5.2 on branch `feature/better-input`

3. Add copy/paste to chat input

4. [ ] Change the input area to be flexible. tracked in  It should:
- tracked [here](ploke/docs/active/todo/2025-12-28_00-better-input.md)
  - [ ] start with a single line and increase input size as the user keeps typing
  up to the limit of half the screen
  - [ ] change the input area so it doesn't have a border, but instead has a
  different background color from the rest of the application
  - [ ] add ghost text for autocomplete on commands
    - [ ] stretch goal (include the pwd for files after an `@` symbol)
  - [ ] add a line above the input that appears whenever there are pending edit
  proposals to approve. this will be an area that has a message like "Press
  shift+y to approve all, shift+n to reject all". Allows more ergonomical
  application of code edits.
    - [ ] implement a rough edit ordering priority, where only the newer item is
    applied when there is overlap.
  - [ ] Add semantic highlighting to fenced code blocks
    - [ ] add styling to markdown quote blocks
    - [ ] maybe also add header styling

5. Add a newline between messages in the conversation history - these newline
   separators should not be selectable.

6. reduce verbosity in general in the UI, but leave the more verbose messaging
   in debug builds behind a cfg flag.

7. Add a conversation clear command `/clear` to reset conversation history

8. Implement TTL on tool calls
